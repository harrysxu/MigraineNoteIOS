# åå¤´ç—›è®°å½•App - æç®€ä¸“ä¸šUI/UXè®¾è®¡æ–¹æ¡ˆ

**ç‰ˆæœ¬**: 2.0  
**è®¾è®¡ç†å¿µ**: Medical Minimalism - åŒ»ç–—æç®€ä¸»ä¹‰  
**æœ€åæ›´æ–°**: 2026å¹´2æœˆ3æ—¥  
**è®¾è®¡å¹³å°**: iOS 17.0+  
**ç›®æ ‡ç”¨æˆ·**: 18-55å²åå¤´ç—›æ‚£è€…

---

## ç›®å½•

1. [è®¾è®¡ç†å¿µä¸æˆ˜ç•¥](#1-è®¾è®¡ç†å¿µä¸æˆ˜ç•¥)
2. [è®¾è®¡ç³»ç»Ÿ](#2-è®¾è®¡ç³»ç»Ÿ)
3. [æ ¸å¿ƒé¡µé¢è®¾è®¡](#3-æ ¸å¿ƒé¡µé¢è®¾è®¡)
4. [äº¤äº’è®¾è®¡è§„èŒƒ](#4-äº¤äº’è®¾è®¡è§„èŒƒ)
5. [AIæ™ºèƒ½åŠŸèƒ½](#5-aiæ™ºèƒ½åŠŸèƒ½)
6. [å¯è®¿é—®æ€§æ ‡å‡†](#6-å¯è®¿é—®æ€§æ ‡å‡†)
7. [çº¿æ¡†å›¾ä¸æµç¨‹](#7-çº¿æ¡†å›¾ä¸æµç¨‹)
8. [å®æ–½æŒ‡å—](#8-å®æ–½æŒ‡å—)

---

## 1. è®¾è®¡ç†å¿µä¸æˆ˜ç•¥

### 1.1 æ ¸å¿ƒè®¾è®¡ç†å¿µ

**Medical Minimalism (åŒ»ç–—æç®€ä¸»ä¹‰)**

åœ¨ç—›è‹¦æ—¶åˆ»æä¾›æœ€å¿«é€Ÿã€æœ€æ¸…æ™°çš„è®°å½•ä½“éªŒ;åœ¨å¥åº·æ—¶åˆ»æä¾›æœ€æœ‰ä»·å€¼çš„æ•°æ®æ´å¯Ÿã€‚

#### è®¾è®¡æ”¯æŸ±

1. **é€Ÿåº¦è‡³ä¸Š** - 3ç§’å®Œæˆæ ¸å¿ƒè®°å½•
2. **æ•°æ®æ´å¯Ÿ** - AIç”Ÿæˆå¯æ“ä½œçš„å¥åº·å»ºè®®
3. **åŒ»ç–—ä¸“ä¸š** - ç¬¦åˆä¸´åºŠæ ‡å‡†çš„æ•°æ®æ”¶é›†
4. **éšç§é€æ˜** - å¯è§†åŒ–çš„æ•°æ®æµå‘å’ŒåŠ å¯†ä¿æŠ¤

### 1.2 ä¸ç°æœ‰è®¾è®¡çš„æ ¹æœ¬å·®å¼‚

| ç»´åº¦ | ç°æœ‰è®¾è®¡ | æ–°è®¾è®¡ | æ”¹å˜åŸå›  |
|------|---------|--------|---------|
| **è§†è§‰é£æ ¼** | æƒ…æ„ŸåŒ–ã€æ¸©æš–ã€å¤šè£…é¥° | æç®€ã€ä¸“ä¸šã€çº¯å‡€ | å‡å°‘è§†è§‰å¹²æ‰°,æå‡ä¸“ä¸šæ€§ |
| **è‰²å½©ç³»ç»Ÿ** | å¤šè‰²å½©æ¸å˜(5è‰²) | å•è‰²ç³»ç»Ÿ(è“+è¯­ä¹‰è‰²) | é™ä½è®¤çŸ¥è´Ÿæ‹…,ç¬¦åˆåŒ»ç–—åœºæ™¯ |
| **è®°å½•æµç¨‹** | 5æ­¥å‘å¯¼å¼ | 1æ­¥+å¯é€‰è¯¦æƒ… | ç—›è‹¦æ—¶å¿«é€Ÿè®°å½•æ˜¯å…³é”®éœ€æ±‚ |
| **é¦–å±ç„¦ç‚¹** | å¤šä¸ªå¡ç‰‡å¹³é“º | å•ä¸€è¶…å¤§è®°å½•æŒ‰é’® | æ˜ç¡®ä¸»è¦æ“ä½œ,å‡å°‘é€‰æ‹©å›°éš¾ |
| **åŠ¨ç”»æ•ˆæœ** | å‘¼å¸åŠ¨æ•ˆã€å¼¹ç°§åŠ¨ç”» | ç³»ç»Ÿé»˜è®¤åŠ¨ç”» | å‡å°‘è£…é¥°,é¿å…åˆºæ¿€ |
| **å¡ç‰‡è®¾è®¡** | åœ†è§’+é˜´å½±+èƒŒæ™¯è‰² | ç®€å•åˆ†éš”çº¿ | æ‰å¹³åŒ–,å‡å°‘è§†è§‰å±‚çº§ |
| **æ•°æ®å±•ç¤º** | å›¾è¡¨ä¸ºä¸» | æ–‡å­—æ´å¯Ÿ+ç®€åŒ–å›¾è¡¨ | AIç”Ÿæˆç»“è®ºæ¯”åŸå§‹æ•°æ®æ›´æœ‰ä»·å€¼ |
| **ä¿¡æ¯å¯†åº¦** | ä½(ä¸€å±1-2é¡¹) | é«˜(ä¸€å±3-4é¡¹) | å¿«é€Ÿæµè§ˆå…³é”®ä¿¡æ¯ |

### 1.3 å‚è€ƒåº”ç”¨ç ”ç©¶æ€»ç»“

#### Apple Health
- **å­¦ä¹ ç‚¹**: æç®€çš„æ•°æ®å±‚çº§ã€äº¤äº’å¼å›¾è¡¨ã€å®‰å…¨å¾½ç« 
- **åº”ç”¨**: é‡‡ç”¨ç›¸åŒçš„ç™½è‰²èƒŒæ™¯+ç³»ç»Ÿè“ã€å¤§å­—å·æ•°æ®å±•ç¤º

#### Cephalo
- **å­¦ä¹ ç‚¹**: "ç—›è‹¦æ—¶ç®€å•,éœ€è¦æ—¶å…¨é¢"çš„ç†å¿µã€æ´»è·ƒå‘ä½œå¡ç‰‡
- **åº”ç”¨**: å®ç°1ç§’å¿«é€Ÿè®°å½•+ç¨åè¡¥å……è¯¦æƒ…çš„æµç¨‹

#### Google Fit
- **å­¦ä¹ ç‚¹**: èšç„¦æ ¸å¿ƒæŒ‡æ ‡ã€Material Designçš„ç•™ç™½ä½¿ç”¨
- **åº”ç”¨**: é¦–é¡µåªæ˜¾ç¤º3ä¸ªå…³é”®æ•°å­—,å…¶ä»–æ”¶èµ·

---

## 2. è®¾è®¡ç³»ç»Ÿ

### 2.1 è‰²å½©ç³»ç»Ÿ

#### ä¸»è‰²è°ƒ: iOSç³»ç»Ÿè‰²

```swift
// ä¸»è‰²
static let primary = Color(hex: "007AFF")  // iOSç³»ç»Ÿè“
static let primaryLight = Color(hex: "007AFF").opacity(0.1)

// èƒŒæ™¯è‰²
static let background = Color(uiColor: .systemBackground)  // ç™½è‰²(æµ…)/é»‘è‰²(æ·±)
static let secondaryBackground = Color(uiColor: .secondarySystemBackground)  // #F2F2F7 / #1C1C1E
static let tertiaryBackground = Color(uiColor: .tertiarySystemBackground)  // #FFFFFF / #2C2C2E

// æ–‡å­—è‰²
static let label = Color(uiColor: .label)  // é»‘è‰²(æµ…)/ç™½è‰²(æ·±)
static let secondaryLabel = Color(uiColor: .secondaryLabel)  // #3C3C43 99% / #EBEBF5 60%
static let tertiaryLabel = Color(uiColor: .tertiaryLabel)  // #3C3C43 48% / #EBEBF5 30%
```

#### è¯­ä¹‰è‰²: iOSç³»ç»Ÿè‰²

```swift
// çŠ¶æ€è‰²
static let success = Color(uiColor: .systemGreen)    // #34C759
static let warning = Color(uiColor: .systemOrange)   // #FF9500
static let danger = Color(uiColor: .systemRed)       // #FF3B30
static let info = Color(uiColor: .systemBlue)        // #007AFF

// åˆ†éš”çº¿
static let separator = Color(uiColor: .separator)    // #3C3C43 36% / #545458 65%
```

#### ç–¼ç—›å¼ºåº¦è‰²é˜¶: å•è‰²æ¸å˜

**è®¾è®¡ç†ç”±**: é¿å…çº¢ç»¿è‰²ç›²é—®é¢˜,ä½¿ç”¨å•ä¸€è“è‰²çš„é€æ˜åº¦æ¸å˜

```swift
func painColor(for intensity: Int) -> Color {
    let opacity = 0.1 + (Double(intensity) / 10.0 * 0.9)
    return Color.primary.opacity(opacity)
}

// 0çº§: #007AFF 10%
// 5çº§: #007AFF 55%
// 10çº§: #007AFF 100%
```

#### è‰²å½©ä½¿ç”¨è§„èŒƒ

| åœºæ™¯ | é¢œè‰² | è¯´æ˜ |
|------|------|------|
| ä¸»æŒ‰é’® | primary | å¼€å§‹è®°å½•ã€ä¿å­˜ç­‰ä¸»è¦æ“ä½œ |
| æ¬¡æŒ‰é’® | secondaryLabel | å–æ¶ˆã€è¿”å›ç­‰æ¬¡è¦æ“ä½œ |
| æ•°æ®æ•°å€¼ | label | å‘ä½œå¤©æ•°ã€ç–¼ç—›å¼ºåº¦ç­‰ |
| è¯´æ˜æ–‡å­— | secondaryLabel | æç¤ºã€å•ä½ç­‰ |
| æˆåŠŸåé¦ˆ | success | è®°å½•ä¿å­˜æˆåŠŸ |
| MOHè­¦å‘Š | warning | ç”¨è¯æ¥è¿‘é˜ˆå€¼ |
| MOHå±é™© | danger | ç”¨è¯è¶…è¿‡é˜ˆå€¼ |
| åˆ†éš”çº¿ | separator | åˆ—è¡¨é¡¹ä¹‹é—´ |

### 2.2 å­—ä½“ç³»ç»Ÿ

#### å­—ä½“å±‚çº§: SF Pro

```swift
// æ•°æ®å±•ç¤º
.largeTitle      // 34pt, Bold    - å…³é”®æ•°å€¼ (å¦‚: è¿ç»­å¤©æ•°)
.title           // 28pt, Semibold - é¡µé¢æ ‡é¢˜
.title2          // 22pt, Semibold - åŒºå—æ ‡é¢˜
.title3          // 20pt, Semibold - å¡ç‰‡æ ‡é¢˜

// å†…å®¹å±‚çº§
.body            // 17pt, Regular  - æ­£æ–‡å†…å®¹
.callout         // 16pt, Regular  - æ¬¡è¦å†…å®¹
.subheadline     // 15pt, Regular  - åˆ—è¡¨é¡¹
.footnote        // 13pt, Regular  - è¾…åŠ©è¯´æ˜
.caption         // 12pt, Regular  - å›¾è¡¨æ ‡ç­¾
.caption2        // 11pt, Regular  - æ—¶é—´æˆ³
```

#### å­—é‡è§„èŒƒ

**åªä½¿ç”¨3ç§å­—é‡**,é¿å…è§†è§‰æ··ä¹±:

- `Regular` - æ­£æ–‡ã€è¯´æ˜æ–‡å­—
- `Semibold` - æ ‡é¢˜ã€å¼ºè°ƒæ–‡å­—  
- `Bold` - å…³é”®æ•°å€¼ã€é‡è¦æ ‡é¢˜

#### åŠ¨æ€å­—ä½“æ”¯æŒ

```swift
// æ‰€æœ‰æ–‡å­—å¿…é¡»æ”¯æŒåŠ¨æ€å­—ä½“
Text("ç–¼ç—›å¼ºåº¦")
    .font(.body)
    .dynamicTypeSize(.xSmall ... .accessibility3)  // é™åˆ¶èŒƒå›´é¿å…å¸ƒå±€ç ´å
```

### 2.3 é—´è·ç³»ç»Ÿ: 16pt Grid

**åŸºç¡€å•ä½**: 16pt

```swift
enum Spacing {
    static let xxs: CGFloat = 4   // å›¾æ ‡ä¸æ–‡å­—é—´è·
    static let xs: CGFloat = 8    // åˆ—è¡¨å†…å…ƒç´ é—´è·
    static let sm: CGFloat = 12   // ç»„å†…å…ƒç´ é—´è·
    static let md: CGFloat = 16   // æ ‡å‡†é—´è· (åŸºç¡€å•ä½)
    static let lg: CGFloat = 24   // ç»„é—´é—´è·
    static let xl: CGFloat = 32   // åŒºå—é—´è·
    static let xxl: CGFloat = 48  // é¡µé¢é¡¶éƒ¨é—´è·
}

// é¡µé¢è¾¹è·
static let pageHorizontal: CGFloat = 20  // iOSæ ‡å‡†
static let pageTop: CGFloat = 16
static let pageBottom: CGFloat = 32
```

#### é—´è·ä½¿ç”¨åœºæ™¯

| é—´è· | ä½¿ç”¨åœºæ™¯ | ç¤ºä¾‹ |
|------|---------|------|
| 4pt | Icon-Texté—´è· | å›¾æ ‡å’Œæ ‡ç­¾ |
| 8pt | å…ƒç´ å†…é—´è· | å¡ç‰‡å†…æ–‡å­—è¡Œé—´è· |
| 12pt | ç´§å¯†ç›¸å…³å…ƒç´  | æ ‡é¢˜å’Œå‰¯æ ‡é¢˜ |
| 16pt | æ ‡å‡†é—´è· | åˆ—è¡¨é¡¹ä¹‹é—´ |
| 24pt | ç»„é—´é—´è· | ä¸åŒç±»åˆ«çš„å†…å®¹å— |
| 32pt | åŒºå—é—´è· | å¤§çš„åˆ†åŒºä¹‹é—´ |
| 48pt | é¡µé¢ç•™ç™½ | é¡µé¢é¡¶éƒ¨åˆ°å†…å®¹ |

### 2.4 åœ†è§’ä¸è¾¹æ¡†

#### åœ†è§’è§„èŒƒ

```swift
enum CornerRadius {
    static let sm: CGFloat = 8    // å°å…ƒç´  (Chip)
    static let md: CGFloat = 12   // ä¸­ç­‰å…ƒç´  (æŒ‰é’®)
    static let lg: CGFloat = 16   // å¤§å…ƒç´  (å¡ç‰‡)
    static let xl: CGFloat = 24   // ä¸»æŒ‰é’®
    static let full: CGFloat = .infinity  // åœ†å½¢
}
```

**æ–°è®¾è®¡åŸåˆ™**: å°‘ç”¨åœ†è§’å¡ç‰‡,å¤šç”¨åˆ†éš”çº¿

```swift
// âŒ æ—§è®¾è®¡: å¡ç‰‡æ ·å¼
VStack {
    // content
}
.padding()
.background(Color.secondaryBackground)
.cornerRadius(12)
.shadow(radius: 4)

// âœ… æ–°è®¾è®¡: åˆ—è¡¨æ ·å¼
VStack(alignment: .leading) {
    // content
}
.padding(.vertical, 12)
.overlay(Divider(), alignment: .bottom)
```

#### è¾¹æ¡†è§„èŒƒ

```swift
// ä»…åœ¨éœ€è¦å¼ºè°ƒè¾¹ç•Œæ—¶ä½¿ç”¨
.overlay(
    RoundedRectangle(cornerRadius: 12)
        .stroke(Color.separator, lineWidth: 0.5)
)
```

### 2.5 é˜´å½±è§„èŒƒ

**æ–°è®¾è®¡åŸåˆ™**: å»é™¤æ‰€æœ‰è£…é¥°æ€§é˜´å½±

```swift
// âŒ ç¦æ­¢ä½¿ç”¨
.shadow(color: .black.opacity(0.1), radius: 8, x: 0, y: 2)

// âœ… ä¾‹å¤–: æµ®åŠ¨æŒ‰é’®éœ€è¦é˜´å½±è¡¨ç¤ºå¯äº¤äº’
.shadow(color: .black.opacity(0.15), radius: 12, x: 0, y: 4)
```

### 2.6 å›¾æ ‡ç³»ç»Ÿ: SF Symbols Only

**100%ä½¿ç”¨ç³»ç»Ÿå›¾æ ‡**,ä¸å¼•å…¥ç¬¬ä¸‰æ–¹å›¾æ ‡åº“

#### å¸¸ç”¨å›¾æ ‡æ˜ å°„

| åŠŸèƒ½ | SF Symbol | å°ºå¯¸ |
|------|-----------|------|
| é¦–é¡µ | house.fill | 24pt |
| è®°å½• | plus.circle.fill | 24pt |
| æ—¥å† | calendar | 24pt |
| åˆ†æ | chart.bar.fill | 24pt |
| è¯ç®± | cross.case.fill | 24pt |
| è®¾ç½® | gearshape.fill | 24pt |
| ç–¼ç—› | bolt.fill | 20pt |
| ç—‡çŠ¶ | waveform.path.ecg | 20pt |
| è¯±å›  | exclamationmark.triangle | 20pt |
| ç”¨è¯ | pills.fill | 20pt |
| å¤©æ°” | cloud.sun.fill | 20pt |
| æˆåŠŸ | checkmark.circle.fill | 20pt |
| è­¦å‘Š | exclamationmark.circle.fill | 20pt |
| å±é™© | xmark.octagon.fill | 20pt |
| ç¼–è¾‘ | pencil | 20pt |
| åˆ é™¤ | trash | 20pt |
| åˆ†äº« | square.and.arrow.up | 20pt |
| é”å®š | lock.fill | 20pt |

#### å›¾æ ‡ä½¿ç”¨è§„èŒƒ

```swift
// å¯¼èˆªæ å›¾æ ‡
Image(systemName: "house.fill")
    .font(.system(size: 24, weight: .regular))
    .foregroundColor(.primary)

// åˆ—è¡¨é¡¹å›¾æ ‡
Image(systemName: "pills.fill")
    .font(.system(size: 20, weight: .semibold))
    .foregroundColor(.primary)
    .frame(width: 32, height: 32)

// çŠ¶æ€å›¾æ ‡ (å¸¦è¯­ä¹‰è‰²)
Image(systemName: "checkmark.circle.fill")
    .font(.system(size: 20))
    .foregroundColor(.success)
```

### 2.7 ç»„ä»¶åº“

#### 2.7.1 æŒ‰é’®ç»„ä»¶

**ä¸»æŒ‰é’® (Primary Button)**

```swift
struct PrimaryButton: View {
    let title: String
    let action: () -> Void
    var isLoading: Bool = false
    
    var body: some View {
        Button(action: action) {
            HStack(spacing: 8) {
                if isLoading {
                    ProgressView()
                        .progressViewStyle(.circular)
                        .tint(.white)
                }
                Text(title)
                    .font(.body.weight(.semibold))
            }
            .frame(maxWidth: .infinity)
            .frame(height: 50)
            .foregroundColor(.white)
            .background(Color.primary)
            .cornerRadius(12)
        }
        .disabled(isLoading)
    }
}

// ä½¿ç”¨ç¤ºä¾‹
PrimaryButton(title: "å¼€å§‹è®°å½•", action: startRecording)
```

**æ¬¡æŒ‰é’® (Secondary Button)**

```swift
struct SecondaryButton: View {
    let title: String
    let action: () -> Void
    
    var body: some View {
        Button(action: action) {
            Text(title)
                .font(.body.weight(.semibold))
                .frame(maxWidth: .infinity)
                .frame(height: 50)
                .foregroundColor(.primary)
                .background(Color.clear)
                .overlay(
                    RoundedRectangle(cornerRadius: 12)
                        .stroke(Color.separator, lineWidth: 1)
                )
        }
    }
}
```

**æ–‡å­—æŒ‰é’® (Text Button)**

```swift
struct TextButton: View {
    let title: String
    let action: () -> Void
    
    var body: some View {
        Button(action: action) {
            Text(title)
                .font(.body)
                .foregroundColor(.primary)
        }
    }
}
```

#### 2.7.2 åˆ—è¡¨ç»„ä»¶

**ç®€å•åˆ—è¡¨è¡Œ**

```swift
struct SimpleListRow: View {
    let title: String
    let value: String?
    let icon: String?
    let action: (() -> Void)?
    
    var body: some View {
        Button(action: action ?? {}) {
            HStack(spacing: 12) {
                if let icon = icon {
                    Image(systemName: icon)
                        .font(.system(size: 20))
                        .foregroundColor(.primary)
                        .frame(width: 28, height: 28)
                }
                
                Text(title)
                    .font(.body)
                    .foregroundColor(.label)
                
                Spacer()
                
                if let value = value {
                    Text(value)
                        .font(.body)
                        .foregroundColor(.secondaryLabel)
                }
                
                if action != nil {
                    Image(systemName: "chevron.right")
                        .font(.system(size: 14, weight: .semibold))
                        .foregroundColor(.tertiaryLabel)
                }
            }
            .padding(.vertical, 12)
            .contentShape(Rectangle())
        }
        .buttonStyle(.plain)
        .overlay(Divider(), alignment: .bottom)
    }
}
```

#### 2.7.3 æ•°æ®å±•ç¤ºç»„ä»¶

**å¤§æ•°å€¼å¡ç‰‡**

```swift
struct LargeNumberCard: View {
    let value: String
    let label: String
    let unit: String?
    
    var body: some View {
        VStack(spacing: 4) {
            HStack(alignment: .firstTextBaseline, spacing: 4) {
                Text(value)
                    .font(.system(size: 48, weight: .bold))
                    .foregroundColor(.label)
                
                if let unit = unit {
                    Text(unit)
                        .font(.title3)
                        .foregroundColor(.secondaryLabel)
                }
            }
            
            Text(label)
                .font(.subheadline)
                .foregroundColor(.secondaryLabel)
        }
    }
}

// ä½¿ç”¨ç¤ºä¾‹
LargeNumberCard(value: "12", label: "è¿ç»­æ— å¤´ç—›å¤©æ•°", unit: "å¤©")
```

**ä¸‰åˆ—æ•°æ®è¡Œ**

```swift
struct ThreeColumnStat: View {
    let stat1: (value: String, label: String)
    let stat2: (value: String, label: String)
    let stat3: (value: String, label: String)
    
    var body: some View {
        HStack(spacing: 0) {
            StatColumn(value: stat1.value, label: stat1.label)
            Divider()
            StatColumn(value: stat2.value, label: stat2.label)
            Divider()
            StatColumn(value: stat3.value, label: stat3.label)
        }
        .frame(height: 70)
    }
    
    struct StatColumn: View {
        let value: String
        let label: String
        
        var body: some View {
            VStack(spacing: 4) {
                Text(value)
                    .font(.title2.weight(.bold))
                    .foregroundColor(.label)
                Text(label)
                    .font(.caption)
                    .foregroundColor(.secondaryLabel)
            }
            .frame(maxWidth: .infinity)
        }
    }
}
```

#### 2.7.4 è¾“å…¥ç»„ä»¶

**é€‰æ‹©èŠ¯ç‰‡ (Chip)**

```swift
struct SelectableChip: View {
    let label: String
    @Binding var isSelected: Bool
    
    var body: some View {
        Button {
            isSelected.toggle()
            UIImpactFeedbackGenerator(style: .light).impactOccurred()
        } label: {
            HStack(spacing: 4) {
                if isSelected {
                    Image(systemName: "checkmark")
                        .font(.system(size: 12, weight: .bold))
                }
                Text(label)
                    .font(.subheadline)
            }
            .padding(.horizontal, 12)
            .padding(.vertical, 8)
            .background(isSelected ? Color.primary : Color.secondaryBackground)
            .foregroundColor(isSelected ? .white : .label)
            .cornerRadius(8)
        }
        .buttonStyle(.plain)
    }
}
```

---

## 3. æ ¸å¿ƒé¡µé¢è®¾è®¡

### 3.1 é¦–é¡µ (Home Dashboard)

#### è®¾è®¡ç›®æ ‡

1. ä¸€çœ¼çœ‹åˆ°å½“å‰çŠ¶æ€ (æ— å¤´ç—› vs å‘ä½œä¸­)
2. ä¸€é”®å¼€å§‹è®°å½• (æœ€å¤§ã€æœ€æ˜æ˜¾çš„æŒ‰é’®)
3. å¿«é€Ÿæµè§ˆå…³é”®æ•°æ® (æœ¬æœˆç»Ÿè®¡)

#### å¸ƒå±€ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Navigation Bar                     â”‚
â”‚  å¤´ç—›è®°å½•            [Settings]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [å½“å‰çŠ¶æ€åŒº]                 â”‚ â”‚
â”‚  â”‚                               â”‚ â”‚
â”‚  â”‚        12                     â”‚ â”‚
â”‚  â”‚    è¿ç»­æ— å¤´ç—›å¤©æ•°             â”‚ â”‚
â”‚  â”‚                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [ä¸»æ“ä½œæŒ‰é’® - è¶…å¤§]          â”‚ â”‚
â”‚  â”‚                               â”‚ â”‚
â”‚  â”‚          +                    â”‚ â”‚
â”‚  â”‚      å¼€å§‹è®°å½•                 â”‚ â”‚
â”‚  â”‚                               â”‚ â”‚
â”‚  â”‚  è½»ç‚¹è®°å½•,ç¨åå¯è¡¥å……è¯¦æƒ…      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  æœ¬æœˆæ¦‚è§ˆ                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  8å¤©     6.5/10     7æ¬¡            â”‚
â”‚  å‘ä½œå¤©æ•°  å¹³å‡å¼ºåº¦  ç”¨è¯æ¬¡æ•°       â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  æœ€è¿‘è®°å½•                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  2æœˆ2æ—¥ 14:30    å¼ºåº¦ 7       â†’    â”‚
â”‚  æŒç»­2å°æ—¶        å·²ç”¨è¯            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ ¸å¿ƒç»„ä»¶è§„èŒƒ

**1. å½“å‰çŠ¶æ€åŒº**

```swift
struct CurrentStatusView: View {
    let streakDays: Int
    let isOngoing: Bool
    let ongoingDuration: TimeInterval?
    
    var body: some View {
        VStack(spacing: 8) {
            if isOngoing {
                // å‘ä½œè¿›è¡Œä¸­
                Text("å‘ä½œè¿›è¡Œä¸­")
                    .font(.title3.weight(.semibold))
                    .foregroundColor(.danger)
                
                if let duration = ongoingDuration {
                    Text("å·²æŒç»­ \(formatDuration(duration))")
                        .font(.subheadline)
                        .foregroundColor(.secondaryLabel)
                }
            } else {
                // æ— å‘ä½œ
                Text("\(streakDays)")
                    .font(.system(size: 72, weight: .bold))
                    .foregroundColor(.primary)
                
                Text("è¿ç»­æ— å¤´ç—›å¤©æ•°")
                    .font(.title3)
                    .foregroundColor(.secondaryLabel)
            }
        }
        .frame(maxWidth: .infinity)
        .padding(.vertical, 32)
        .background(Color.secondaryBackground)
        .cornerRadius(16)
    }
}
```

**2. å¿«é€Ÿè®°å½•æŒ‰é’®**

```swift
struct QuickRecordButton: View {
    let action: () -> Void
    
    var body: some View {
        Button(action: {
            UIImpactFeedbackGenerator(style: .medium).impactOccurred()
            action()
        }) {
            VStack(spacing: 16) {
                Image(systemName: "plus.circle.fill")
                    .font(.system(size: 64))
                    .foregroundColor(.primary)
                
                Text("å¼€å§‹è®°å½•")
                    .font(.title2.weight(.semibold))
                    .foregroundColor(.label)
                
                Text("è½»ç‚¹è®°å½•,ç¨åå¯è¡¥å……è¯¦æƒ…")
                    .font(.caption)
                    .foregroundColor(.secondaryLabel)
            }
            .frame(maxWidth: .infinity)
            .padding(.vertical, 40)
            .background(Color.secondaryBackground)
            .cornerRadius(16)
        }
        .buttonStyle(.plain)
    }
}
```

**3. æœ¬æœˆæ¦‚è§ˆ**

```swift
struct MonthlyOverview: View {
    let attackDays: Int
    let averageIntensity: Double
    let medicationCount: Int
    
    var body: some View {
        VStack(spacing: 16) {
            HStack {
                Text("æœ¬æœˆæ¦‚è§ˆ")
                    .font(.title3.weight(.semibold))
                Spacer()
            }
            
            ThreeColumnStat(
                stat1: ("\(attackDays)å¤©", "å‘ä½œå¤©æ•°"),
                stat2: (String(format: "%.1f/10", averageIntensity), "å¹³å‡å¼ºåº¦"),
                stat3: ("\(medicationCount)æ¬¡", "ç”¨è¯æ¬¡æ•°")
            )
        }
    }
}
```

#### é¡µé¢äº¤äº’

- **ä¸‹æ‹‰åˆ·æ–°**: åˆ·æ–°ç»Ÿè®¡æ•°æ®
- **ç‚¹å‡»çŠ¶æ€åŒº**: æŸ¥çœ‹è¯¦ç»†ç»Ÿè®¡
- **ç‚¹å‡»è®°å½•æŒ‰é’®**: ç«‹å³åˆ›å»ºæ–°è®°å½•
- **ç‚¹å‡»æœ€è¿‘è®°å½•**: æŸ¥çœ‹è®°å½•è¯¦æƒ…

### 3.2 å¿«é€Ÿè®°å½•æµç¨‹

#### è®¾è®¡å“²å­¦

**"ç—›è‹¦æ—¶ç®€å•,éœ€è¦æ—¶å…¨é¢"**

- **Step 0**: ä¸€é”®è®°å½• (å¿…éœ€,1ç§’å®Œæˆ)
- **Step 1**: ç–¼ç—›è¯„ä¼° (å¯é€‰,ç¨åè¡¥å……)
- **Step 2**: è¯¦ç»†ä¿¡æ¯ (å¯é€‰,ç¨åè¡¥å……)

#### Step 0: ä¸€é”®è®°å½•

**è§¦å‘**: ç‚¹å‡»é¦–é¡µ"å¼€å§‹è®°å½•"æŒ‰é’®

**è‡ªåŠ¨æ•è·**:
- å½“å‰æ—¶é—´ (startTime)
- å½“å‰ä½ç½® (å¦‚å·²æˆæƒ)
- å½“å‰å¤©æ°” (å¦‚WeatherKitå¯ç”¨)
- çŠ¶æ€: è¿›è¡Œä¸­ (endTime = nil)

**ç”¨æˆ·åé¦ˆ**:
```swift
// Toastæç¤º
"å·²è®°å½• 14:32 çš„å¤´ç—›å‘ä½œ,ç¨åå¯è¡¥å……è¯¦æƒ…"
```

**å®Œæ•´æµç¨‹ä»£ç ç¤ºä¾‹**:

```swift
func quickRecord() {
    // åˆ›å»ºåŸºç¡€è®°å½•
    let attack = AttackRecord(
        startTime: Date(),
        status: .ongoing
    )
    
    // å¼‚æ­¥è·å–ä½ç½®å’Œå¤©æ°”
    Task {
        if let location = await locationManager.getCurrentLocation() {
            attack.location = location
        }
        if let weather = await weatherManager.getCurrentWeather() {
            attack.weatherSnapshot = weather
        }
    }
    
    // ä¿å­˜
    modelContext.insert(attack)
    try? modelContext.save()
    
    // è§¦è§‰åé¦ˆ
    UINotificationFeedbackGenerator().notificationOccurred(.success)
    
    // æ˜¾ç¤ºToast
    showToast("å·²è®°å½•,ç¨åå¯è¡¥å……è¯¦æƒ…")
}
```

#### Step 1: ç–¼ç—›è¯„ä¼° (å¯é€‰)

**å…¥å£**: ä»è®°å½•åˆ—è¡¨ç‚¹å‡»"è¡¥å……è¯¦æƒ…"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  < è¿”å›        ç–¼ç—›è¯„ä¼°      ä¿å­˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ç–¼ç—›å¼ºåº¦                           â”‚
â”‚                                     â”‚
â”‚  â”â”â”â”â”â”â—â”â”â”â”â”â”â”â”â”â”â”â”              â”‚
â”‚  0                           10     â”‚
â”‚  æ— ç—›                        å‰§ç—›   â”‚
â”‚                                     â”‚
â”‚         5                           â”‚
â”‚    (ä¸­åº¦ç–¼ç—›)                       â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  ç–¼ç—›éƒ¨ä½                           â”‚
â”‚  [å¤´éƒ¨ç®€å›¾ - å¯ç‚¹é€‰å¤šä¸ªåŒºåŸŸ]        â”‚
â”‚                                     â”‚
â”‚  å·²é€‰æ‹©: å·¦ä¾§å¤ªé˜³ç©´ã€å‰é¢           â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  ç–¼ç—›æ€§è´¨                           â”‚
â”‚  [æåŠ¨æ€§] [å‹è¿«æ„Ÿ] [åˆºç—›]         â”‚
â”‚  [é’ç—›] [èƒ€ç—›]                     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒç»„ä»¶: ç®€çº¦æ»‘å—**

```swift
struct PainIntensitySlider: View {
    @Binding var value: Int
    
    var body: some View {
        VStack(spacing: 24) {
            // å½“å‰å€¼æ˜¾ç¤º
            Text("\(value)")
                .font(.system(size: 72, weight: .bold))
                .foregroundColor(painColor(for: value))
            
            Text(painLabel(for: value))
                .font(.subheadline)
                .foregroundColor(.secondaryLabel)
            
            // æ»‘å—
            Slider(
                value: Binding(
                    get: { Double(value) },
                    set: { value = Int($0) }
                ),
                in: 0...10,
                step: 1
            )
            .tint(.primary)
            
            // æ ‡ç­¾
            HStack {
                Text("0\næ— ç—›")
                    .font(.caption)
                    .foregroundColor(.secondaryLabel)
                    .multilineTextAlignment(.leading)
                Spacer()
                Text("10\nå‰§ç—›")
                    .font(.caption)
                    .foregroundColor(.secondaryLabel)
                    .multilineTextAlignment(.trailing)
            }
        }
        .padding()
    }
    
    func painLabel(for value: Int) -> String {
        switch value {
        case 0: return "æ— ç–¼ç—›"
        case 1...3: return "è½»å¾®ä¸é€‚"
        case 4...6: return "ä¸­åº¦ç–¼ç—›"
        case 7...9: return "ä¸¥é‡ç–¼ç—›"
        case 10: return "æåº¦ç—›è‹¦"
        default: return ""
        }
    }
    
    func painColor(for value: Int) -> Color {
        return Color.primary.opacity(0.1 + Double(value) / 10.0 * 0.9)
    }
}
```

#### Step 2: è¯¦ç»†ä¿¡æ¯ (å¯é€‰)

**å¸ƒå±€**: å¯æŠ˜å åˆ†ç»„åˆ—è¡¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  < è¿”å›        è¯¦ç»†ä¿¡æ¯      ä¿å­˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  > ç—‡çŠ¶ (AIæ¨è)              [3]  â”‚
â”‚    æ¶å¿ƒã€ç•å…‰ã€å‘•å                 â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  > è¯±å›  (åŸºäºå†å²)            [2]  â”‚
â”‚    å‹åŠ›ã€ç¡çœ ä¸è¶³                   â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  > ç”¨è¯                             â”‚
â”‚    å¸ƒæ´›èŠ¬ 400mg, 14:45             â”‚
â”‚    + æ·»åŠ ç”¨è¯                       â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  > å¤‡æ³¨                             â”‚
â”‚    [æ–‡æœ¬æ¡†: ä»Šå¤©å·¥ä½œå‹åŠ›å¾ˆå¤§...]    â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¯æŠ˜å ç»„å®ç°**:

```swift
struct CollapsibleSection<Content: View>: View {
    let title: String
    let count: Int?
    @State private var isExpanded: Bool = false
    @ViewBuilder let content: () -> Content
    
    var body: some View {
        VStack(spacing: 0) {
            Button {
                withAnimation(.easeInOut(duration: 0.2)) {
                    isExpanded.toggle()
                }
            } label: {
                HStack {
                    Text(title)
                        .font(.body.weight(.semibold))
                        .foregroundColor(.label)
                    
                    if let count = count, count > 0 {
                        Text("(\(count))")
                            .font(.subheadline)
                            .foregroundColor(.secondaryLabel)
                    }
                    
                    Spacer()
                    
                    Image(systemName: isExpanded ? "chevron.up" : "chevron.down")
                        .font(.system(size: 14, weight: .semibold))
                        .foregroundColor(.secondaryLabel)
                }
                .padding(.vertical, 12)
                .contentShape(Rectangle())
            }
            .buttonStyle(.plain)
            
            if isExpanded {
                content()
                    .transition(.opacity.combined(with: .move(edge: .top)))
            }
        }
        .overlay(Divider(), alignment: .bottom)
    }
}
```

### 3.3 æ•°æ®åˆ†æé¡µ

#### è®¾è®¡ç›®æ ‡

1. AIç”Ÿæˆæ–‡å­—æ´å¯Ÿ (å¯è¯»æ€§ > å›¾è¡¨)
2. ç®€åŒ–çš„æ•°æ®å¯è§†åŒ–
3. å¯æ“ä½œçš„å¥åº·å»ºè®®

#### å¸ƒå±€ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆ†æ                    [å¯¼å‡ºPDF]  â”‚
â”‚  è¿‡å»3ä¸ªæœˆ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ’¡ å…³é”®å‘ç°                     â”‚â”‚
â”‚  â”‚                                 â”‚â”‚
â”‚  â”‚ â€¢ æ‚¨é€šå¸¸åœ¨æ—©æ™¨6-9ç‚¹å‘ä½œ (60%)  â”‚â”‚
â”‚  â”‚ â€¢ å·¥ä½œæ—¥å‘ä½œé¢‘ç‡é«˜äºå‘¨æœ«        â”‚â”‚
â”‚  â”‚ â€¢ å‹åŠ›æ˜¯æœ€å¸¸è§è¯±å›  (67%)        â”‚â”‚
â”‚  â”‚                                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  æœˆåº¦è¶‹åŠ¿                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  [ç®€åŒ–æŸ±çŠ¶å›¾]                       â”‚
â”‚   8å¤©  10å¤©  12å¤©  9å¤©  7å¤©  8å¤©   â”‚
â”‚   11æœˆ 12æœˆ  1æœˆ  2æœˆ  3æœˆ  4æœˆ    â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  è¯±å› åˆ†æ                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  1. å‹åŠ›           67%  â– â– â– â– â– â– â–   â”‚
â”‚  2. ç¡çœ ä¸è¶³       45%  â– â– â– â– â–       â”‚
â”‚  3. å¤©æ°”å˜åŒ–       34%  â– â– â–          â”‚
â”‚  4. å‘³ç²¾é£Ÿç‰©       28%  â– â–           â”‚
â”‚  5. é¥®é…’           15%  â–            â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ç”¨è¯åˆ†æ                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  å¸ƒæ´›èŠ¬                             â”‚
â”‚  æœ¬æœˆä½¿ç”¨ 8/15å¤©   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚
â”‚  å¹³å‡ç¼“è§£æ—¶é—´: 1.5å°æ—¶              â”‚
â”‚                                     â”‚
â”‚  âš ï¸ æ¥è¿‘MOHé˜ˆå€¼,å»ºè®®å’¨è¯¢åŒ»ç”Ÿ       â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ ¸å¿ƒç»„ä»¶

**1. AIæ´å¯Ÿå¡ç‰‡**

```swift
struct InsightCard: View {
    let insights: [String]
    
    var body: some View {
        VStack(alignment: .leading, spacing: 12) {
            HStack {
                Image(systemName: "lightbulb.fill")
                    .foregroundColor(.warning)
                Text("å…³é”®å‘ç°")
                    .font(.title3.weight(.semibold))
            }
            
            ForEach(insights, id: \.self) { insight in
                HStack(alignment: .top, spacing: 8) {
                    Text("â€¢")
                        .foregroundColor(.secondaryLabel)
                    Text(insight)
                        .font(.body)
                        .foregroundColor(.label)
                }
            }
        }
        .padding()
        .background(Color.warning.opacity(0.1))
        .cornerRadius(12)
    }
}
```

**2. ç®€åŒ–æŸ±çŠ¶å›¾**

```swift
import Charts

struct SimplifiedBarChart: View {
    let data: [MonthData]
    
    var body: some View {
        VStack(alignment: .leading, spacing: 16) {
            Text("æœˆåº¦è¶‹åŠ¿")
                .font(.title3.weight(.semibold))
            
            Chart(data) { item in
                BarMark(
                    x: .value("æœˆä»½", item.month, unit: .month),
                    y: .value("å¤©æ•°", item.days)
                )
                .foregroundStyle(Color.primary)
                .cornerRadius(4)
            }
            .frame(height: 200)
            .chartXAxis {
                AxisMarks(values: .stride(by: .month)) { _ in
                    AxisValueLabel(format: .dateTime.month(.abbreviated))
                }
            }
            .chartYAxis {
                AxisMarks(position: .leading)
            }
        }
    }
}
```

**3. è¯±å› é¢‘æ¬¡åˆ—è¡¨**

```swift
struct TriggerFrequencyList: View {
    let triggers: [(name: String, percentage: Int)]
    
    var body: some View {
        VStack(alignment: .leading, spacing: 16) {
            Text("è¯±å› åˆ†æ")
                .font(.title3.weight(.semibold))
            
            ForEach(Array(triggers.enumerated()), id: \.offset) { index, trigger in
                HStack {
                    Text("\(index + 1). \(trigger.name)")
                        .font(.body)
                        .foregroundColor(.label)
                    
                    Spacer()
                    
                    Text("\(trigger.percentage)%")
                        .font(.body.weight(.semibold))
                        .foregroundColor(.primary)
                    
                    // è¿›åº¦æ¡
                    GeometryReader { geometry in
                        HStack(spacing: 2) {
                            ForEach(0..<10) { i in
                                Rectangle()
                                    .fill(i < trigger.percentage / 10 ? Color.primary : Color.separator)
                                    .frame(width: 8, height: 16)
                            }
                        }
                    }
                    .frame(width: 100)
                }
                .padding(.vertical, 4)
            }
        }
    }
}
```

### 3.4 è¯ç®±é¡µé¢

#### è®¾è®¡ç›®æ ‡

1. æ¸…å•å¼å¸ƒå±€,ä¸€ç›®äº†ç„¶
2. MOHè­¦å‘Šå†…è”æ˜¾ç¤º
3. å¿«é€Ÿè®¿é—®ç”¨è¯å†å²

#### å¸ƒå±€ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¯ç®±                          [+]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  æ€¥æ€§ç”¨è¯                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  å¸ƒæ´›èŠ¬ 400mg                       â”‚
â”‚  æœ¬æœˆ 8/15å¤©                  â†’     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  ä½ç±³æ›²æ™®å¦ 5mg                     â”‚
â”‚  æœ¬æœˆ 3/10å¤©                  â†’     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  æ›²å®‰ç¼©æ¾ 10mg                      â”‚
â”‚  æœ¬æœˆ 12/15å¤©  âš ï¸ æ¥è¿‘é˜ˆå€¼    â†’     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  é¢„é˜²æ€§ç”¨è¯                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  æ°Ÿæ¡‚åˆ©å—ª 5mg                       â”‚
â”‚  ä¾ä»æ€§ 85%                   â†’     â”‚
â”‚  æ¯æ—¥ 20:00                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ ¸å¿ƒç»„ä»¶

**è¯ç‰©åˆ—è¡¨è¡Œ**

```swift
struct MedicationRow: View {
    let medication: Medication
    let usageThisMonth: Int
    let mohWarning: Bool
    
    var body: some View {
        Button {
            // å¯¼èˆªåˆ°è¯ç‰©è¯¦æƒ…
        } label: {
            VStack(alignment: .leading, spacing: 8) {
                HStack {
                    Text(medication.name)
                        .font(.body.weight(.semibold))
                        .foregroundColor(.label)
                    
                    Spacer()
                    
                    Image(systemName: "chevron.right")
                        .font(.system(size: 14))
                        .foregroundColor(.tertiaryLabel)
                }
                
                HStack(spacing: 16) {
                    if medication.isAcute {
                        Text("æœ¬æœˆ \(usageThisMonth)/\(medication.monthlyLimit ?? 15)å¤©")
                            .font(.subheadline)
                            .foregroundColor(.secondaryLabel)
                    } else {
                        Text("ä¾ä»æ€§ \(medication.adherence)%")
                            .font(.subheadline)
                            .foregroundColor(.secondaryLabel)
                        
                        if let time = medication.dailyReminderTime {
                            Text("æ¯æ—¥ \(formatTime(time))")
                                .font(.subheadline)
                                .foregroundColor(.secondaryLabel)
                        }
                    }
                    
                    if mohWarning {
                        HStack(spacing: 4) {
                            Image(systemName: "exclamationmark.triangle.fill")
                            Text("æ¥è¿‘é˜ˆå€¼")
                        }
                        .font(.caption)
                        .foregroundColor(.warning)
                    }
                }
            }
            .padding(.vertical, 12)
            .contentShape(Rectangle())
        }
        .buttonStyle(.plain)
        .overlay(Divider(), alignment: .bottom)
    }
}
```

### 3.5 æ—¥å†é¡µé¢

#### è®¾è®¡ç›®æ ‡

1. çƒ­åŠ›å›¾å¿«é€Ÿè¯†åˆ«æ¨¡å¼
2. æœ¬æœˆç»Ÿè®¡ä¸€ç›®äº†ç„¶
3. ç‚¹å‡»æ—¥æœŸæŸ¥çœ‹è¯¦æƒ…

#### å¸ƒå±€ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ—¥å†                               â”‚
â”‚                                     â”‚
â”‚  < 2026å¹´2æœˆ >                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  æ—¥  ä¸€  äºŒ  ä¸‰  å››  äº”  å…­         â”‚
â”‚                                     â”‚
â”‚  28  29  30  31  1   2   3          â”‚
â”‚                  â—‹   â—   â—‹          â”‚
â”‚                                     â”‚
â”‚  4   5   6   7   8   9   10         â”‚
â”‚  â—   â—‹       â—   â—‹       â—          â”‚
â”‚                                     â”‚
â”‚  11  12  13  14  15  16  17         â”‚
â”‚           â—       â—‹                 â”‚
â”‚                                     â”‚
â”‚  18  19  20  21  22  23  24         â”‚
â”‚  â—                   â—‹              â”‚
â”‚                                     â”‚
â”‚  25  26  27  28  29  1   2          â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  æœ¬æœˆç»Ÿè®¡                           â”‚
â”‚  8å¤©     6.5/10     7æ¬¡             â”‚
â”‚  å‘ä½œå¤©æ•°  å¹³å‡å¼ºåº¦  ç”¨è¯æ¬¡æ•°       â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â”‚  å›¾ä¾‹:                              â”‚
â”‚  â—‹ è½»åº¦ (1-3)  â— ä¸­åº¦ (4-6)       â”‚
â”‚  â— é‡åº¦ (7-10)                     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ ¸å¿ƒç»„ä»¶

**æ—¥å†å•å…ƒæ ¼**

```swift
struct CalendarDayCell: View {
    let date: Date?
    let attack: AttackRecord?
    let isToday: Bool
    
    var body: some View {
        VStack(spacing: 4) {
            if let date = date {
                Text("\(Calendar.current.component(.day, from: date))")
                    .font(.subheadline)
                    .foregroundColor(isToday ? .white : .label)
                
                if let attack = attack {
                    intensityIndicator(for: attack.painIntensity)
                } else {
                    Spacer()
                        .frame(height: 8)
                }
            }
        }
        .frame(maxWidth: .infinity)
        .frame(height: 44)
        .background(isToday ? Color.primary : Color.clear)
        .cornerRadius(8)
    }
    
    @ViewBuilder
    func intensityIndicator(for intensity: Int) -> some View {
        Circle()
            .fill(intensityColor(for: intensity))
            .frame(width: 8, height: 8)
    }
    
    func intensityColor(for intensity: Int) -> Color {
        switch intensity {
        case 0...3: return Color.primary.opacity(0.3)  // â—‹
        case 4...6: return Color.primary.opacity(0.6)  // â—
        case 7...10: return Color.primary              // â—
        default: return .clear
        }
    }
}
```

---

## 4. äº¤äº’è®¾è®¡è§„èŒƒ

### 4.1 æ‰‹åŠ¿æ“ä½œè¡¨

| æ‰‹åŠ¿ | ä½ç½® | åŠŸèƒ½ | åé¦ˆ |
|------|------|------|------|
| **ç‚¹å‡» (Tap)** | ä¸»æŒ‰é’® | æ‰§è¡Œä¸»è¦æ“ä½œ | è½»å¾®è§¦è§‰ + è§†è§‰é«˜äº® |
| **ç‚¹å‡»** | åˆ—è¡¨é¡¹ | æŸ¥çœ‹è¯¦æƒ… | å¯¼èˆªåŠ¨ç”» |
| **é•¿æŒ‰ (Long Press)** | æ—¥å†æ—¥æœŸ | å¿«é€Ÿæ·»åŠ è®°å½• | ä¸­ç­‰è§¦è§‰ + èœå•å¼¹å‡º |
| **å·¦æ»‘ (Swipe Left)** | åˆ—è¡¨é¡¹ | æ˜¾ç¤ºç¼–è¾‘/åˆ é™¤ | è½»å¾®è§¦è§‰ |
| **å³æ»‘ (Swipe Right)** | åˆ—è¡¨é¡¹ | å¿«é€Ÿå®Œæˆ | æˆåŠŸè§¦è§‰ + ç»¿è‰²åŠ¨ç”» |
| **ä¸‹æ‹‰ (Pull to Refresh)** | é¡µé¢é¡¶éƒ¨ | åˆ·æ–°æ•°æ® | ç³»ç»Ÿåˆ·æ–°æŒ‡ç¤ºå™¨ |
| **åŒå‡» (Double Tap)** | è®°å½•å¡ç‰‡ | å¿«é€Ÿç¼–è¾‘ | ä¸­ç­‰è§¦è§‰ + ç¼–è¾‘ç•Œé¢ |

### 4.2 åŠ¨ç”»è§„èŒƒ

#### å…è®¸çš„åŠ¨ç”»

**1. ç³»ç»Ÿé»˜è®¤åŠ¨ç”»**

```swift
// å¯¼èˆªè½¬åœº (ç³»ç»Ÿé»˜è®¤)
NavigationLink(destination: DetailView()) {
    Text("æŸ¥çœ‹è¯¦æƒ…")
}

// æ¨¡æ€å¼¹å‡º (ç³»ç»Ÿé»˜è®¤)
.sheet(isPresented: $showSheet) {
    RecordingView()
}
```

**2. æ•°æ®åŠ è½½åŠ¨ç”»**

```swift
// ç³»ç»ŸSpinner
ProgressView()
    .progressViewStyle(.circular)
```

**3. æŒ‰é’®åé¦ˆåŠ¨ç”»**

```swift
struct SimpleButtonStyle: ButtonStyle {
    func makeBody(configuration: Configuration) -> some View {
        configuration.label
            .opacity(configuration.isPressed ? 0.6 : 1.0)
            .animation(.easeInOut(duration: 0.1), value: configuration.isPressed)
    }
}
```

#### ç¦æ­¢çš„åŠ¨ç”»

- âŒ å‘¼å¸åŠ¨æ•ˆ (breathing animation)
- âŒ æ¸å˜åŠ¨ç”» (gradient animation)
- âŒ ç²’å­æ•ˆæœ (particle effects)
- âŒ å¼¹ç°§åŠ¨ç”» (spring animation with bounce)
- âŒ æŒç»­å¾ªç¯åŠ¨ç”» (infinite loop)

### 4.3 è§¦è§‰åé¦ˆè§„èŒƒ

**ä½¿ç”¨åŸåˆ™**: ç²¾å‡†ã€æœ‰æ„ä¹‰ã€ä¸è¿‡åº¦

```swift
enum HapticFeedback {
    case light      // è½»å¾®åé¦ˆ - é€‰æ‹©é€‰é¡¹
    case medium     // ä¸­ç­‰åé¦ˆ - æŒ‰é’®ç‚¹å‡»
    case heavy      // é‡åº¦åé¦ˆ - (ä¸ä½¿ç”¨)
    case success    // æˆåŠŸ - ä¿å­˜æˆåŠŸ
    case warning    // è­¦å‘Š - MOHè­¦å‘Š
    case error      // é”™è¯¯ - æ“ä½œå¤±è´¥
    
    func trigger() {
        switch self {
        case .light:
            UIImpactFeedbackGenerator(style: .light).impactOccurred()
        case .medium:
            UIImpactFeedbackGenerator(style: .medium).impactOccurred()
        case .success:
            UINotificationFeedbackGenerator().notificationOccurred(.success)
        case .warning:
            UINotificationFeedbackGenerator().notificationOccurred(.warning)
        case .error:
            UINotificationFeedbackGenerator().notificationOccurred(.error)
        default:
            break
        }
    }
}
```

**ä½¿ç”¨åœºæ™¯**:

| åœºæ™¯ | åé¦ˆç±»å‹ |
|------|---------|
| é€‰æ‹©Chip | light |
| ç‚¹å‡»è®°å½•æŒ‰é’® | medium |
| è®°å½•ä¿å­˜æˆåŠŸ | success |
| MOHè­¦å‘Šè§¦å‘ | warning |
| ä¿å­˜å¤±è´¥ | error |
| æ»‘å—æ‹–åŠ¨ | light (æ¯ä¸ªæ•´æ•°å€¼) |

### 4.4 é¡µé¢è½¬åœº

**æ ‡å‡†è½¬åœº**: ä½¿ç”¨ç³»ç»Ÿé»˜è®¤

```swift
// Pushå¯¼èˆª
NavigationLink(destination: DetailView()) {
    Text("è¯¦æƒ…")
}

// æ¨¡æ€å¼¹å‡º
.sheet(isPresented: $showSheet) {
    SheetView()
}

// å…¨å±è¦†ç›–
.fullScreenCover(isPresented: $showFullScreen) {
    FullScreenView()
}
```

**è½¬åœºæ—¶æœºé€‰æ‹©**:

| åœºæ™¯ | è½¬åœºç±»å‹ | ç†ç”± |
|------|---------|------|
| æŸ¥çœ‹è¯¦æƒ… | Pushå¯¼èˆª | æœ‰è¿”å›è·¯å¾„ |
| è®°å½•æµç¨‹ | Sheet | ç‹¬ç«‹ä»»åŠ¡,å¯å–æ¶ˆ |
| è®¾ç½®é¡µé¢ | Pushå¯¼èˆª | å±‚çº§å…³ç³» |
| é‡è¦æç¤º | Sheet | éœ€è¦ç”¨æˆ·ç¡®è®¤ |

---

## 5. AIæ™ºèƒ½åŠŸèƒ½

### 5.1 æ™ºèƒ½æ¨èå¼•æ“

#### è®¾è®¡ç›®æ ‡

åŸºäºç”¨æˆ·å†å²æ•°æ®,æ™ºèƒ½é¢„æµ‹å’Œæ¨èç—‡çŠ¶ã€è¯±å› ,å‡å°‘80%çš„ç‚¹å‡»æ¬¡æ•°ã€‚

#### æ¨èç®—æ³•é€»è¾‘

**1. åŸºäºé¢‘ç‡çš„æ¨è**

```swift
class SmartRecommendationEngine {
    // æ¨èæœ€å¸¸è§çš„3ä¸ªç—‡çŠ¶
    func recommendSymptoms(for user: User) -> [Symptom] {
        let recentAttacks = user.attacks.suffix(10)
        let symptomFrequency = Dictionary(grouping: recentAttacks.flatMap { $0.symptoms }) { $0.type }
            .mapValues { $0.count }
            .sorted { $0.value > $1.value }
        
        return Array(symptomFrequency.prefix(3).map { $0.key })
    }
    
    // æ¨èæœ€å¯èƒ½çš„è¯±å› 
    func recommendTriggers(for user: User) -> [Trigger] {
        let recentAttacks = user.attacks.suffix(10)
        let triggerFrequency = Dictionary(grouping: recentAttacks.flatMap { $0.triggers }) { $0.type }
            .mapValues { $0.count }
            .sorted { $0.value > $1.value }
        
        return Array(triggerFrequency.prefix(3).map { $0.key })
    }
}
```

**2. åŸºäºæ—¶é—´æ¨¡å¼çš„æ¨è**

```swift
extension SmartRecommendationEngine {
    // æ ¹æ®æ—¶é—´æ¨èè¯±å› 
    func contextualTriggers(at time: Date) -> [Trigger] {
        let hour = Calendar.current.component(.hour, from: time)
        let dayOfWeek = Calendar.current.component(.weekday, from: time)
        
        var recommendations: [Trigger] = []
        
        // å‘¨ä¸€æ—©æ™¨ â†’ æ¨è"å·¥ä½œå‹åŠ›"ã€"å‘¨æœ«ç¡çœ æ”¹å˜"
        if dayOfWeek == 2 && hour >= 6 && hour <= 10 {
            recommendations.append(contentsOf: [.stress, .sleepChange])
        }
        
        // æ™šä¸Š â†’ æ¨è"çœ¼ç›ç–²åŠ³"ã€"å±å¹•æ—¶é—´"
        if hour >= 18 && hour <= 22 {
            recommendations.append(contentsOf: [.eyeStrain, .screenTime])
        }
        
        return recommendations
    }
}
```

**3. åŸºäºæ°”è±¡æ•°æ®çš„æ¨è**

```swift
extension SmartRecommendationEngine {
    // æ ¹æ®å¤©æ°”æ¨èè¯±å› 
    func weatherBasedTriggers(weather: WeatherSnapshot) -> [Trigger] {
        var recommendations: [Trigger] = []
        
        // æ°”å‹éª¤é™
        if weather.pressureTrend == .falling && weather.pressureChange > 5 {
            recommendations.append(.pressureChange)
        }
        
        // é«˜æ¹¿åº¦
        if weather.humidity > 80 {
            recommendations.append(.humidity)
        }
        
        // æç«¯æ¸©åº¦
        if weather.temperature > 35 || weather.temperature < 0 {
            recommendations.append(.temperature)
        }
        
        return recommendations
    }
}
```

#### UIé›†æˆ

**æ¨èå¡ç‰‡ç»„ä»¶**

```swift
struct AIRecommendationCard: View {
    let title: String
    let recommendations: [String]
    let onSelect: (String) -> Void
    
    var body: some View {
        VStack(alignment: .leading, spacing: 12) {
            HStack {
                Image(systemName: "sparkles")
                    .foregroundColor(.primary)
                Text(title)
                    .font(.subheadline.weight(.semibold))
                    .foregroundColor(.label)
            }
            
            FlowLayout(spacing: 8) {
                ForEach(recommendations, id: \.self) { item in
                    Button {
                        onSelect(item)
                        HapticFeedback.light.trigger()
                    } label: {
                        HStack(spacing: 4) {
                            Image(systemName: "plus.circle.fill")
                                .font(.system(size: 12))
                            Text(item)
                                .font(.subheadline)
                        }
                        .padding(.horizontal, 12)
                        .padding(.vertical, 6)
                        .background(Color.primary.opacity(0.1))
                        .foregroundColor(.primary)
                        .cornerRadius(8)
                    }
                }
            }
        }
        .padding()
        .background(Color.secondaryBackground)
        .cornerRadius(12)
    }
}

// ä½¿ç”¨ç¤ºä¾‹
AIRecommendationCard(
    title: "å¸¸è§ç—‡çŠ¶",
    recommendations: ["æ¶å¿ƒ", "ç•å…‰", "å‘•å"],
    onSelect: { symptom in
        // è‡ªåŠ¨æ·»åŠ åˆ°å·²é€‰åˆ—è¡¨
    }
)
```

### 5.2 æ•°æ®æ´å¯Ÿç”Ÿæˆ

#### AIåˆ†æå¼•æ“

```swift
class DataInsightGenerator {
    // ç”Ÿæˆå…³é”®å‘ç°
    func generateInsights(from attacks: [AttackRecord]) -> [String] {
        var insights: [String] = []
        
        // 1. æ—¶é—´æ¨¡å¼åˆ†æ
        if let timePattern = analyzeTimePattern(attacks) {
            insights.append(timePattern)
        }
        
        // 2. è¯±å› ç›¸å…³æ€§åˆ†æ
        if let triggerInsight = analyzeTriggers(attacks) {
            insights.append(triggerInsight)
        }
        
        // 3. ç”¨è¯æ•ˆæœåˆ†æ
        if let medicationInsight = analyzeMedication(attacks) {
            insights.append(medicationInsight)
        }
        
        // 4. å‘¨æœŸæ€§åˆ†æ
        if let cyclicPattern = analyzeCyclicPattern(attacks) {
            insights.append(cyclicPattern)
        }
        
        return insights
    }
    
    private func analyzeTimePattern(_ attacks: [AttackRecord]) -> String? {
        let hourCounts = Dictionary(grouping: attacks) { attack in
            Calendar.current.component(.hour, from: attack.startTime)
        }.mapValues { $0.count }
        
        guard let peakHour = hourCounts.max(by: { $0.value < $1.value }) else {
            return nil
        }
        
        let percentage = Int(Double(peakHour.value) / Double(attacks.count) * 100)
        
        if peakHour.key >= 6 && peakHour.key <= 9 {
            return "æ‚¨é€šå¸¸åœ¨æ—©æ™¨6-9ç‚¹å‘ä½œ (\(percentage)%)"
        } else if peakHour.key >= 14 && peakHour.key <= 17 {
            return "æ‚¨é€šå¸¸åœ¨ä¸‹åˆ2-5ç‚¹å‘ä½œ (\(percentage)%)"
        }
        
        return nil
    }
    
    private func analyzeTriggers(_ attacks: [AttackRecord]) -> String? {
        let triggerCounts = Dictionary(grouping: attacks.flatMap { $0.triggers }) { $0.type }
            .mapValues { $0.count }
            .sorted { $0.value > $1.value }
        
        guard let topTrigger = triggerCounts.first else {
            return nil
        }
        
        let percentage = Int(Double(topTrigger.value) / Double(attacks.count) * 100)
        return "\(topTrigger.key.displayName)æ˜¯æœ€å¸¸è§è¯±å›  (\(percentage)%)"
    }
    
    private func analyzeMedication(_ attacks: [AttackRecord]) -> String? {
        let medicatedAttacks = attacks.filter { !$0.medicationLogs.isEmpty }
        
        guard !medicatedAttacks.isEmpty else {
            return nil
        }
        
        // è®¡ç®—å¹³å‡ç¼“è§£æ—¶é—´
        let avgReliefTime = medicatedAttacks.compactMap { attack -> TimeInterval? in
            guard let medLog = attack.medicationLogs.first,
                  let endTime = attack.endTime else {
                return nil
            }
            return endTime.timeIntervalSince(medLog.takenAt)
        }.reduce(0, +) / Double(medicatedAttacks.count)
        
        let hours = Int(avgReliefTime / 3600)
        let minutes = Int((avgReliefTime.truncatingRemainder(dividingBy: 3600)) / 60)
        
        return "å¹³å‡ç¼“è§£æ—¶é—´: \(hours)å°æ—¶\(minutes)åˆ†é’Ÿ"
    }
    
    private func analyzeCyclicPattern(_ attacks: [AttackRecord]) -> String? {
        let weekdayCounts = Dictionary(grouping: attacks) { attack in
            Calendar.current.component(.weekday, from: attack.startTime)
        }.mapValues { $0.count }
        
        let weekdayTotal = (weekdayCounts[2] ?? 0) + (weekdayCounts[3] ?? 0) + (weekdayCounts[4] ?? 0) + (weekdayCounts[5] ?? 0) + (weekdayCounts[6] ?? 0)
        let weekendTotal = (weekdayCounts[1] ?? 0) + (weekdayCounts[7] ?? 0)
        
        if weekdayTotal > weekendTotal * 1.5 {
            return "å·¥ä½œæ—¥å‘ä½œé¢‘ç‡æ˜æ˜¾é«˜äºå‘¨æœ«"
        } else if weekendTotal > weekdayTotal * 1.5 {
            return "å‘¨æœ«å‘ä½œé¢‘ç‡æ˜æ˜¾é«˜äºå·¥ä½œæ—¥"
        }
        
        return nil
    }
}
```

### 5.3 è¯­éŸ³è¾“å…¥ (æœªæ¥åŠŸèƒ½)

#### è®¾è®¡æ¦‚å¿µ

```swift
struct VoiceInputView: View {
    @State private var isRecording = false
    @State private var transcript = ""
    
    var body: some View {
        VStack(spacing: 24) {
            // éº¦å…‹é£æŒ‰é’®
            Button {
                toggleRecording()
            } label: {
                Image(systemName: isRecording ? "mic.fill" : "mic")
                    .font(.system(size: 48))
                    .foregroundColor(isRecording ? .danger : .primary)
                    .frame(width: 100, height: 100)
                    .background(Color.secondaryBackground)
                    .clipShape(Circle())
            }
            
            // è¯†åˆ«æ–‡æœ¬
            if !transcript.isEmpty {
                Text(transcript)
                    .font(.body)
                    .foregroundColor(.label)
                    .multilineTextAlignment(.center)
                    .padding()
            }
            
            // æç¤ºæ–‡å­—
            Text(isRecording ? "æ­£åœ¨è†å¬..." : "è½»ç‚¹å¼€å§‹è¯­éŸ³è®°å½•")
                .font(.subheadline)
                .foregroundColor(.secondaryLabel)
        }
        .padding()
    }
    
    func toggleRecording() {
        isRecording.toggle()
        if isRecording {
            startVoiceRecognition()
        } else {
            stopVoiceRecognition()
            parseTranscript()
        }
    }
    
    func parseTranscript() {
        // AIè§£æè¯­éŸ³æ–‡æœ¬
        // "å¤´ç—›å¾ˆä¸¥é‡,æœ‰æ¶å¿ƒæ„Ÿ" â†’ 
        //   painIntensity = 8
        //   symptoms = ["æ¶å¿ƒ"]
    }
}
```

---

## 6. å¯è®¿é—®æ€§æ ‡å‡†

### 6.1 å¯è®¿é—®æ€§æ£€æŸ¥æ¸…å•

#### VoiceOveræ”¯æŒ

- [ ] æ‰€æœ‰æŒ‰é’®æœ‰æ˜ç¡®çš„accessibilityLabel
- [ ] æ‰€æœ‰å›¾æ ‡æŒ‰é’®æœ‰accessibilityHint
- [ ] è‡ªå®šä¹‰æ§ä»¶å®ç°accessibilityValue
- [ ] æ•°æ®å›¾è¡¨æä¾›æ–‡å­—æè¿°
- [ ] å¯¼èˆªå±‚çº§æ¸…æ™°
- [ ] ç„¦ç‚¹é¡ºåºç¬¦åˆé€»è¾‘

#### è§¦æ‘¸ç›®æ ‡

- [ ] æ‰€æœ‰å¯ç‚¹å‡»å…ƒç´  â‰¥ 44x44 pt
- [ ] ç›¸é‚»å¯ç‚¹å‡»å…ƒç´ é—´è· â‰¥ 8pt
- [ ] æ»‘å—æ‰‹æŸ„ â‰¥ 24pt
- [ ] Chipæœ€å°é«˜åº¦32pt

#### é¢œè‰²å¯¹æ¯”

- [ ] æ–‡å­—ä¸èƒŒæ™¯å¯¹æ¯”åº¦ â‰¥ 4.5:1 (AAçº§)
- [ ] å¤§æ–‡å­—(â‰¥18pt)å¯¹æ¯”åº¦ â‰¥ 3:1
- [ ] å›¾æ ‡ä¸èƒŒæ™¯å¯¹æ¯”åº¦ â‰¥ 3:1
- [ ] ä¸ä»…ç”¨é¢œè‰²ä¼ é€’ä¿¡æ¯(é…åˆå›¾æ ‡/æ–‡å­—)

#### åŠ¨æ€å­—ä½“

- [ ] æ”¯æŒç³»ç»Ÿå­—ä½“å¤§å°è®¾ç½®
- [ ] æµ‹è¯•æœ€å°(xSmall)å’Œæœ€å¤§(accessibility3)å­—å·
- [ ] å¸ƒå±€åœ¨æç«¯å­—å·ä¸‹ä¸ç ´å
- [ ] é‡è¦ä¿¡æ¯åœ¨å¤§å­—å·ä¸‹ä»å¯è§

#### é«˜å¯¹æ¯”åº¦æ¨¡å¼

- [ ] æ£€æµ‹å¹¶é€‚é…é«˜å¯¹æ¯”åº¦è®¾ç½®
- [ ] è¾¹æ¡†åœ¨é«˜å¯¹æ¯”åº¦ä¸‹åŠ ç²—
- [ ] åˆ†éš”çº¿åœ¨é«˜å¯¹æ¯”åº¦ä¸‹æ›´æ˜æ˜¾

#### å‡å¼±åŠ¨ç”»

- [ ] æ£€æµ‹ç”¨æˆ·çš„å‡å¼±åŠ¨ç”»è®¾ç½®
- [ ] ç¦ç”¨è£…é¥°æ€§åŠ¨ç”»
- [ ] ä¿ç•™å¿…è¦çš„åŠŸèƒ½æ€§åŠ¨ç”»

### 6.2 å®æ–½ä»£ç ç¤ºä¾‹

#### VoiceOveræ ‡ç­¾

```swift
// æŒ‰é’®
Button {
    startRecording()
} label: {
    Image(systemName: "plus.circle.fill")
}
.accessibilityLabel("å¼€å§‹è®°å½•å¤´ç—›å‘ä½œ")
.accessibilityHint("åŒå‡»ç«‹å³è®°å½•å½“å‰æ—¶é—´")

// æ»‘å—
Slider(value: $painIntensity, in: 0...10, step: 1)
    .accessibilityLabel("ç–¼ç—›å¼ºåº¦")
    .accessibilityValue("\(Int(painIntensity))çº§,å…±10çº§,\(painLabel(for: Int(painIntensity)))")

// è‡ªå®šä¹‰æ§ä»¶
CalendarDayCell(date: date, attack: attack)
    .accessibilityLabel("\(formatDate(date)), \(attack != nil ? "å‘ä½œ,å¼ºåº¦\(attack!.painIntensity)" : "æ— å‘ä½œ")")
```

#### è§¦æ‘¸ç›®æ ‡

```swift
// ç¡®ä¿æœ€å°è§¦æ‘¸ç›®æ ‡
Button {
    action()
} label: {
    Image(systemName: "trash")
        .font(.system(size: 20))
}
.frame(minWidth: 44, minHeight: 44)

// Chipæœ€å°é«˜åº¦
struct AccessibleChip: View {
    let label: String
    @Binding var isSelected: Bool
    
    var body: some View {
        Button {
            isSelected.toggle()
        } label: {
            Text(label)
                .font(.subheadline)
                .padding(.horizontal, 12)
                .frame(minHeight: 32)  // æœ€å°é«˜åº¦
                .background(isSelected ? Color.primary : Color.secondaryBackground)
                .foregroundColor(isSelected ? .white : .label)
                .cornerRadius(8)
        }
    }
}
```

#### é¢œè‰²å¯¹æ¯”

```swift
// ä½¿ç”¨ç³»ç»Ÿé¢œè‰²è‡ªåŠ¨é€‚é…
Text("æ ‡é¢˜")
    .foregroundColor(.label)  // è‡ªåŠ¨é«˜å¯¹æ¯”åº¦

Text("è¯´æ˜")
    .foregroundColor(.secondaryLabel)  // è‡ªåŠ¨é€‚é…

// æ£€æµ‹é«˜å¯¹æ¯”åº¦æ¨¡å¼
@Environment(\.colorSchemeContrast) var contrast

var borderWidth: CGFloat {
    contrast == .increased ? 2 : 1
}
```

#### åŠ¨æ€å­—ä½“

```swift
// æ‰€æœ‰æ–‡å­—æ”¯æŒåŠ¨æ€å­—ä½“
Text("ç–¼ç—›å¼ºåº¦")
    .font(.body)  // è‡ªåŠ¨ç¼©æ”¾

// é™åˆ¶ç¼©æ”¾èŒƒå›´
VStack {
    // content
}
.dynamicTypeSize(.xSmall ... .accessibility3)

// æµ‹è¯•æç«¯æƒ…å†µ
#if DEBUG
.environment(\.sizeCategory, .accessibilityExtraExtraExtraLarge)
#endif
```

#### å‡å¼±åŠ¨ç”»

```swift
@Environment(\.accessibilityReduceMotion) var reduceMotion

var animation: Animation? {
    reduceMotion ? nil : .easeInOut(duration: 0.3)
}

Button("ä¿å­˜") {
    withAnimation(animation) {
        saveRecord()
    }
}
```

### 6.3 æµ‹è¯•æŒ‡å—

#### æµ‹è¯•åœºæ™¯

1. **VoiceOveræµ‹è¯•**
   - å¯ç”¨VoiceOver
   - ä½¿ç”¨å•æŒ‡æ»‘åŠ¨å¯¼èˆª
   - éªŒè¯æ¯ä¸ªå…ƒç´ çš„æœ—è¯»å†…å®¹
   - æ£€æŸ¥ç„¦ç‚¹é¡ºåº

2. **è§¦æ‘¸ç›®æ ‡æµ‹è¯•**
   - ä½¿ç”¨Xcodeçš„"Show Layout"å·¥å…·
   - éªŒè¯æ‰€æœ‰æŒ‰é’® â‰¥ 44x44pt
   - æµ‹è¯•è¾¹ç¼˜æƒ…å†µ

3. **é¢œè‰²å¯¹æ¯”æµ‹è¯•**
   - ä½¿ç”¨å·¥å…·: https://webaim.org/resources/contrastchecker/
   - æµ‹è¯•æ‰€æœ‰æ–‡å­—ä¸èƒŒæ™¯ç»„åˆ
   - éªŒè¯WCAG 2.1 AAæ ‡å‡†

4. **åŠ¨æ€å­—ä½“æµ‹è¯•**
   - è®¾ç½® > è¾…åŠ©åŠŸèƒ½ > æ˜¾ç¤ºä¸æ–‡å­—å¤§å° > æ›´å¤§å­—ä½“
   - æµ‹è¯•æœ€å°å’Œæœ€å¤§å­—å·
   - éªŒè¯å¸ƒå±€ä¸ç ´å

5. **é«˜å¯¹æ¯”åº¦æµ‹è¯•**
   - è®¾ç½® > è¾…åŠ©åŠŸèƒ½ > æ˜¾ç¤ºä¸æ–‡å­—å¤§å° > å¢å¼ºå¯¹æ¯”åº¦
   - éªŒè¯æ‰€æœ‰ç•Œé¢å…ƒç´ æ¸…æ™°å¯è§

6. **å‡å¼±åŠ¨ç”»æµ‹è¯•**
   - è®¾ç½® > è¾…åŠ©åŠŸèƒ½ > åŠ¨æ€æ•ˆæœ > å‡å¼±åŠ¨æ€æ•ˆæœ
   - éªŒè¯è£…é¥°æ€§åŠ¨ç”»ç¦ç”¨
   - éªŒè¯åŠŸèƒ½æ€§åŠ¨ç”»ä¿ç•™

---

## 7. çº¿æ¡†å›¾ä¸æµç¨‹

### 7.1 ä¿¡æ¯æ¶æ„

```mermaid
graph TD
    App[Appå¯åŠ¨]
    
    App --> Onboarding{é¦–æ¬¡ä½¿ç”¨?}
    Onboarding -->|æ˜¯| Welcome[æ¬¢è¿é¡µ]
    Onboarding -->|å¦| TabBar[ä¸»ç•Œé¢]
    
    Welcome --> Privacy[éšç§è¯´æ˜]
    Privacy --> Ready[å‡†å¤‡å°±ç»ª]
    Ready --> TabBar
    
    TabBar --> Home[é¦–é¡µ]
    TabBar --> Calendar[æ—¥å†]
    TabBar --> Analytics[åˆ†æ]
    TabBar --> Profile[æˆ‘çš„]
    
    Home --> QuickRecord[å¿«é€Ÿè®°å½•]
    Home --> ViewAttack[æŸ¥çœ‹è®°å½•]
    
    QuickRecord --> PainAssessment[ç–¼ç—›è¯„ä¼°]
    PainAssessment --> DetailInfo[è¯¦ç»†ä¿¡æ¯]
    DetailInfo --> Save[ä¿å­˜]
    
    Calendar --> DayDetail[æ—¥æœŸè¯¦æƒ…]
    Calendar --> MonthStats[æœˆåº¦ç»Ÿè®¡]
    
    Analytics --> Insights[AIæ´å¯Ÿ]
    Analytics --> Charts[å›¾è¡¨]
    Analytics --> ExportPDF[å¯¼å‡ºPDF]
    
    Profile --> Medications[è¯ç®±]
    Profile --> Settings[è®¾ç½®]
    Profile --> About[å…³äº]
    
    Medications --> AddMed[æ·»åŠ è¯ç‰©]
    Medications --> MedDetail[è¯ç‰©è¯¦æƒ…]
```

### 7.2 æ ¸å¿ƒç”¨æˆ·æµç¨‹

#### æµç¨‹1: å¿«é€Ÿè®°å½•

```mermaid
sequenceDiagram
    participant User
    participant Home
    participant System
    participant Database
    
    User->>Home: ç‚¹å‡»"å¼€å§‹è®°å½•"
    Home->>System: è§¦å‘quickRecord()
    System->>System: åˆ›å»ºAttackRecord
    System->>System: è·å–å½“å‰æ—¶é—´
    System->>System: è·å–ä½ç½®(å¼‚æ­¥)
    System->>System: è·å–å¤©æ°”(å¼‚æ­¥)
    System->>Database: ä¿å­˜è®°å½•
    Database-->>System: ä¿å­˜æˆåŠŸ
    System->>User: è§¦è§‰åé¦ˆ
    System->>Home: æ˜¾ç¤ºToast
    Home-->>User: "å·²è®°å½•,ç¨åå¯è¡¥å……è¯¦æƒ…"
```

#### æµç¨‹2: è¡¥å……è¯¦æƒ…

```mermaid
sequenceDiagram
    participant User
    participant List
    participant Detail
    participant AI
    participant Database
    
    User->>List: ç‚¹å‡»è®°å½•
    List->>Detail: æ˜¾ç¤ºè¯¦æƒ…
    User->>Detail: ç‚¹å‡»"è¡¥å……è¯¦æƒ…"
    Detail->>AI: è¯·æ±‚æ¨è
    AI-->>Detail: è¿”å›æ¨èç—‡çŠ¶/è¯±å› 
    Detail-->>User: æ˜¾ç¤ºæ¨èå¡ç‰‡
    User->>Detail: é€‰æ‹©ç—‡çŠ¶
    User->>Detail: é€‰æ‹©è¯±å› 
    User->>Detail: ç‚¹å‡»"ä¿å­˜"
    Detail->>Database: æ›´æ–°è®°å½•
    Database-->>Detail: ä¿å­˜æˆåŠŸ
    Detail->>User: è§¦è§‰åé¦ˆ
    Detail-->>List: è¿”å›åˆ—è¡¨
```

#### æµç¨‹3: æ•°æ®åˆ†æ

```mermaid
sequenceDiagram
    participant User
    participant Analytics
    participant AI
    participant Database
    
    User->>Analytics: æ‰“å¼€åˆ†æé¡µ
    Analytics->>Database: æŸ¥è¯¢è¿‘3ä¸ªæœˆæ•°æ®
    Database-->>Analytics: è¿”å›æ•°æ®
    Analytics->>AI: ç”Ÿæˆæ´å¯Ÿ
    AI->>AI: åˆ†ææ—¶é—´æ¨¡å¼
    AI->>AI: åˆ†æè¯±å› ç›¸å…³æ€§
    AI->>AI: åˆ†æç”¨è¯æ•ˆæœ
    AI-->>Analytics: è¿”å›æ´å¯Ÿæ–‡æœ¬
    Analytics-->>User: æ˜¾ç¤ºAIæ´å¯Ÿ
    Analytics-->>User: æ˜¾ç¤ºå›¾è¡¨
```

### 7.3 å…³é”®é¡µé¢çº¿æ¡†å›¾

#### é¦–é¡µçº¿æ¡†å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  Navigation Bar                 â”‚ â”‚
â”‚ â”‚  å¤´ç—›è®°å½•            [è®¾ç½®å›¾æ ‡] â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚           12                    â”‚ â”‚
â”‚ â”‚     è¿ç»­æ— å¤´ç—›å¤©æ•°              â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚     [7å¤©è¶‹åŠ¿è¿·ä½ å›¾]             â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚          âŠ•                      â”‚ â”‚
â”‚ â”‚      å¼€å§‹è®°å½•                   â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚  è½»ç‚¹è®°å½•,ç¨åå¯è¡¥å……è¯¦æƒ…        â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ æœ¬æœˆæ¦‚è§ˆ                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                     â”‚
â”‚   8å¤©        6.5/10       7æ¬¡       â”‚
â”‚ å‘ä½œå¤©æ•°     å¹³å‡å¼ºåº¦    ç”¨è¯æ¬¡æ•°   â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ æœ€è¿‘è®°å½•                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                     â”‚
â”‚ 2æœˆ2æ—¥ 14:30    å¼ºåº¦ 7        â†’    â”‚
â”‚ æŒç»­2å°æ—¶        å·²ç”¨è¯             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                     â”‚
â”‚ 2æœˆ1æ—¥ 09:15    å¼ºåº¦ 5        â†’    â”‚
â”‚ æŒç»­4å°æ—¶        å·²ç”¨è¯             â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  [é¦–é¡µ]  [æ—¥å†]  [åˆ†æ]  [æˆ‘çš„]
```

#### è®°å½•è¯¦æƒ…çº¿æ¡†å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  < è¿”å›   è®°å½•è¯¦æƒ…     [ç¼–è¾‘]  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   7                             â”‚ â”‚
â”‚ â”‚ ä¸­åº¦åé‡ç–¼ç—›                    â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ 2026å¹´2æœˆ2æ—¥ 14:30              â”‚ â”‚
â”‚ â”‚ æŒç»­ 2å°æ—¶15åˆ†                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ç–¼ç—›éƒ¨ä½                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                     â”‚
â”‚ å·¦ä¾§å¤ªé˜³ç©´ã€å‰é¢                    â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ç—‡çŠ¶                                â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                     â”‚
â”‚ [æ¶å¿ƒ] [ç•å…‰] [å‘•å]              â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ è¯±å›                                 â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                     â”‚
â”‚ [å‹åŠ›] [ç¡çœ ä¸è¶³]                  â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ç”¨è¯è®°å½•                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                     â”‚
â”‚ å¸ƒæ´›èŠ¬ 400mg                        â”‚
â”‚ 14:45 æœç”¨                          â”‚
â”‚ æ•ˆæœ: éƒ¨åˆ†ç¼“è§£                      â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ å¤©æ°”                                â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                     â”‚
â”‚ æ°”å‹ 1008 hPa â†“                    â”‚
â”‚ æ¸©åº¦ 22Â°C   æ¹¿åº¦ 75%                â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### åˆ†æé¡µçº¿æ¡†å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  åˆ†æ              [å¯¼å‡ºPDF]    â”‚ â”‚
â”‚ â”‚  è¿‡å»3ä¸ªæœˆ                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ’¡ å…³é”®å‘ç°                     â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ â€¢ æ‚¨é€šå¸¸åœ¨æ—©æ™¨6-9ç‚¹å‘ä½œ (60%)  â”‚ â”‚
â”‚ â”‚ â€¢ å·¥ä½œæ—¥å‘ä½œé¢‘ç‡é«˜äºå‘¨æœ«        â”‚ â”‚
â”‚ â”‚ â€¢ å‹åŠ›æ˜¯æœ€å¸¸è§è¯±å›  (67%)        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ æœˆåº¦è¶‹åŠ¿                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                     â”‚
â”‚     â–ˆ                               â”‚
â”‚   â–ˆ â–ˆ     â–ˆ                         â”‚
â”‚ â–ˆ â–ˆ â–ˆ   â–ˆ â–ˆ   â–ˆ                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚ 11 12 1  2 3  4 æœˆ                  â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ è¯±å› åˆ†æ                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                     â”‚
â”‚ 1. å‹åŠ›           67%  â– â– â– â– â– â– â–   â”‚
â”‚ 2. ç¡çœ ä¸è¶³       45%  â– â– â– â– â–       â”‚
â”‚ 3. å¤©æ°”å˜åŒ–       34%  â– â– â–          â”‚
â”‚ 4. å‘³ç²¾é£Ÿç‰©       28%  â– â–           â”‚
â”‚ 5. é¥®é…’           15%  â–            â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ç”¨è¯åˆ†æ                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                     â”‚
â”‚ å¸ƒæ´›èŠ¬                              â”‚
â”‚ æœ¬æœˆ 8/15å¤©   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘      â”‚
â”‚ å¹³å‡ç¼“è§£: 1.5å°æ—¶                   â”‚
â”‚                                     â”‚
â”‚ âš ï¸ æ¥è¿‘MOHé˜ˆå€¼,å»ºè®®å’¨è¯¢åŒ»ç”Ÿ        â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. å®æ–½æŒ‡å—

### 8.1 å¼€å‘ä¼˜å…ˆçº§

#### Phase 1: æ ¸å¿ƒåŸºç¡€ (1å‘¨)

**ç›®æ ‡**: å»ºç«‹æ–°çš„è®¾è®¡ç³»ç»Ÿ,å®ç°æ ¸å¿ƒè®°å½•æµç¨‹

1. **è®¾è®¡ç³»ç»Ÿé‡æ„**
   - åˆ›å»ºæ–°çš„Colors.swift (ç³»ç»Ÿé¢œè‰²)
   - æ›´æ–°Typography.swift (å­—ä½“è§„èŒƒ)
   - åˆ›å»ºMinimalComponents.swift (ç®€åŒ–ç»„ä»¶)

2. **é¦–é¡µé‡è®¾è®¡**
   - å»é™¤è£…é¥°æ€§å…ƒç´ 
   - å®ç°å¤§æ•°å€¼æ˜¾ç¤º
   - åˆ›å»ºQuickRecordButton

3. **å¿«é€Ÿè®°å½•æµç¨‹**
   - å®ç°1ç§’è®°å½•åŠŸèƒ½
   - æ·»åŠ Toaståé¦ˆ
   - ä¼˜åŒ–è§¦è§‰åé¦ˆ

**éªŒæ”¶æ ‡å‡†**:
- [ ] ç‚¹å‡»è®°å½•æŒ‰é’®1ç§’å†…å®Œæˆä¿å­˜
- [ ] é¦–é¡µ70%ç•™ç™½,ç„¦ç‚¹æ¸…æ™°
- [ ] æ‰€æœ‰é¢œè‰²ä½¿ç”¨ç³»ç»Ÿè‰²

#### Phase 2: æ™ºèƒ½åŠŸèƒ½ (1å‘¨)

**ç›®æ ‡**: å®ç°AIæ¨è,ä¼˜åŒ–æ•°æ®åˆ†æ

1. **æ™ºèƒ½æ¨èå¼•æ“**
   - å®ç°åŸºäºé¢‘ç‡çš„æ¨è
   - å®ç°åŸºäºæ—¶é—´çš„æ¨è
   - å®ç°åŸºäºå¤©æ°”çš„æ¨è

2. **æ•°æ®æ´å¯Ÿç”Ÿæˆ**
   - å®ç°æ—¶é—´æ¨¡å¼åˆ†æ
   - å®ç°è¯±å› ç›¸å…³æ€§åˆ†æ
   - å®ç°ç”¨è¯æ•ˆæœåˆ†æ

3. **åˆ†æé¡µé‡è®¾è®¡**
   - æ·»åŠ AIæ´å¯Ÿå¡ç‰‡
   - ç®€åŒ–å›¾è¡¨è®¾è®¡
   - ä¼˜åŒ–MOHè­¦å‘Š

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ¨èå‡†ç¡®ç‡ > 70%
- [ ] AIæ´å¯Ÿç”Ÿæˆæ—¶é—´ < 1ç§’
- [ ] åˆ†æé¡µåŠ è½½æ—¶é—´ < 2ç§’

#### Phase 3: å®Œå–„ç»†èŠ‚ (1å‘¨)

**ç›®æ ‡**: å®ç°æ‰€æœ‰äº¤äº’,å®Œå–„å¯è®¿é—®æ€§

1. **æ‰‹åŠ¿æ“ä½œ**
   - å®ç°å·¦æ»‘ç¼–è¾‘/åˆ é™¤
   - å®ç°é•¿æŒ‰å¿«é€Ÿæ“ä½œ
   - å®ç°ä¸‹æ‹‰åˆ·æ–°

2. **å¯è®¿é—®æ€§**
   - æ·»åŠ VoiceOveræ ‡ç­¾
   - éªŒè¯è§¦æ‘¸ç›®æ ‡å°ºå¯¸
   - æµ‹è¯•åŠ¨æ€å­—ä½“

3. **å…¶ä»–é¡µé¢**
   - é‡è®¾è®¡æ—¥å†é¡µ
   - é‡è®¾è®¡è¯ç®±é¡µ
   - é‡è®¾è®¡è®¾ç½®é¡µ

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰äº¤äº’æœ‰è§¦è§‰åé¦ˆ
- [ ] VoiceOverè¦†ç›–ç‡100%
- [ ] è§¦æ‘¸ç›®æ ‡å…¨éƒ¨ â‰¥ 44pt

#### Phase 4: æµ‹è¯•ä¼˜åŒ– (1å‘¨)

**ç›®æ ‡**: ç”¨æˆ·æµ‹è¯•,æ€§èƒ½ä¼˜åŒ–,ç»†èŠ‚æ‰“ç£¨

1. **æ€§èƒ½ä¼˜åŒ–**
   - å¯åŠ¨æ—¶é—´ < 1ç§’
   - è®°å½•ä¿å­˜ < 0.5ç§’
   - é¡µé¢åˆ‡æ¢ < 0.3ç§’

2. **ç”¨æˆ·æµ‹è¯•**
   - 5-10åçœŸå®ç”¨æˆ·æµ‹è¯•
   - æ”¶é›†åé¦ˆ
   - è¿­ä»£ä¼˜åŒ–

3. **ç»†èŠ‚æ‰“ç£¨**
   - ä¿®å¤è¾¹ç¼˜æƒ…å†µ
   - ä¼˜åŒ–åŠ¨ç”»æ›²çº¿
   - å®Œå–„é”™è¯¯å¤„ç†

**éªŒæ”¶æ ‡å‡†**:
- [ ] ç”¨æˆ·æ»¡æ„åº¦ > 4.5/5
- [ ] æ— ä¸¥é‡bug
- [ ] æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡

### 8.2 ç»„ä»¶è¿ç§»æŒ‡å—

#### éœ€è¦åˆ é™¤çš„ç»„ä»¶

```swift
// âŒ åˆ é™¤
EmotionalCard.swift
CircularSlider.swift
LucideIcons.swift
AnimationHelpers.swift (å‘¼å¸åŠ¨ç”»ç­‰)
BreathingRecordButton.swift
DynamicGreeting.swift
```

#### éœ€è¦ç®€åŒ–çš„ç»„ä»¶

```swift
// SelectableChip: ç§»é™¤å‘¼å¸åŠ¨æ•ˆ,ä½¿ç”¨ç®€å•é«˜äº®
struct SelectableChip: View {
    let label: String
    @Binding var isSelected: Bool
    
    var body: some View {
        Button {
            isSelected.toggle()
            UIImpactFeedbackGenerator(style: .light).impactOccurred()
        } label: {
            HStack(spacing: 4) {
                if isSelected {
                    Image(systemName: "checkmark")
                        .font(.system(size: 12, weight: .bold))
                }
                Text(label)
                    .font(.subheadline)
            }
            .padding(.horizontal, 12)
            .padding(.vertical, 8)
            .frame(minHeight: 32)
            .background(isSelected ? Color.primary : Color.secondaryBackground)
            .foregroundColor(isSelected ? .white : .label)
            .cornerRadius(8)
        }
        .buttonStyle(.plain)
    }
}
```

#### éœ€è¦æ–°å»ºçš„ç»„ä»¶

```swift
// MinimalCard.swift
struct MinimalCard<Content: View>: View {
    @ViewBuilder let content: () -> Content
    
    var body: some View {
        VStack(alignment: .leading, spacing: 0) {
            content()
        }
        .overlay(Divider(), alignment: .bottom)
    }
}

// LargeNumberDisplay.swift
struct LargeNumberDisplay: View {
    let value: String
    let label: String
    let unit: String?
    
    var body: some View {
        VStack(spacing: 4) {
            HStack(alignment: .firstTextBaseline, spacing: 4) {
                Text(value)
                    .font(.system(size: 72, weight: .bold))
                    .foregroundColor(.label)
                
                if let unit = unit {
                    Text(unit)
                        .font(.title2)
                        .foregroundColor(.secondaryLabel)
                }
            }
            
            Text(label)
                .font(.subheadline)
                .foregroundColor(.secondaryLabel)
        }
    }
}

// QuickRecordButton.swift
struct QuickRecordButton: View {
    let action: () -> Void
    
    var body: some View {
        Button {
            UIImpactFeedbackGenerator(style: .medium).impactOccurred()
            action()
        } label: {
            VStack(spacing: 16) {
                Image(systemName: "plus.circle.fill")
                    .font(.system(size: 64))
                    .foregroundColor(.primary)
                
                Text("å¼€å§‹è®°å½•")
                    .font(.title2.weight(.semibold))
                    .foregroundColor(.label)
                
                Text("è½»ç‚¹è®°å½•,ç¨åå¯è¡¥å……è¯¦æƒ…")
                    .font(.caption)
                    .foregroundColor(.secondaryLabel)
            }
            .frame(maxWidth: .infinity)
            .padding(.vertical, 40)
            .background(Color.secondaryBackground)
            .cornerRadius(16)
        }
        .buttonStyle(.plain)
    }
}
```

### 8.3 ä»£ç è§„èŒƒ

#### å‘½åè§„èŒƒ

```swift
// âœ… å¥½çš„å‘½å
struct PainIntensitySlider: View { }
func quickRecord() { }
let attackDays: Int

// âŒ é¿å…çš„å‘½å
struct MySlider: View { }
func doStuff() { }
let x: Int
```

#### æ–‡ä»¶ç»„ç»‡

```
Views/
â”œâ”€â”€ Home/
â”‚   â”œâ”€â”€ HomeView.swift
â”‚   â”œâ”€â”€ QuickRecordButton.swift
â”‚   â””â”€â”€ MonthlyOverview.swift
â”œâ”€â”€ Recording/
â”‚   â”œâ”€â”€ QuickRecordView.swift
â”‚   â”œâ”€â”€ PainAssessmentView.swift
â”‚   â””â”€â”€ DetailInfoView.swift
â”œâ”€â”€ Analytics/
â”‚   â”œâ”€â”€ AnalyticsView.swift
â”‚   â”œâ”€â”€ InsightCard.swift
â”‚   â””â”€â”€ SimplifiedCharts.swift
â”œâ”€â”€ Calendar/
â”‚   â””â”€â”€ CalendarView.swift
â”œâ”€â”€ Medications/
â”‚   â””â”€â”€ MedicationListView.swift
â””â”€â”€ Profile/
    â””â”€â”€ ProfileView.swift

DesignSystem/
â”œâ”€â”€ Colors.swift
â”œâ”€â”€ Typography.swift
â”œâ”€â”€ Spacing.swift
â”œâ”€â”€ Components/
â”‚   â”œâ”€â”€ Buttons.swift
â”‚   â”œâ”€â”€ Cards.swift
â”‚   â”œâ”€â”€ Lists.swift
â”‚   â””â”€â”€ Input.swift
â””â”€â”€ Utilities/
    â”œâ”€â”€ Haptics.swift
    â””â”€â”€ Accessibility.swift

Models/
Services/
ViewModels/
Utils/
```

#### SwiftUIæœ€ä½³å®è·µ

```swift
// âœ… ä½¿ç”¨ç³»ç»Ÿé¢œè‰²
.foregroundColor(.label)

// âŒ é¿å…ç¡¬ç¼–ç 
.foregroundColor(Color(hex: "#000000"))

// âœ… ä½¿ç”¨ç³»ç»Ÿå­—ä½“
.font(.body)

// âŒ é¿å…è‡ªå®šä¹‰å­—ä½“
.font(.custom("CustomFont", size: 17))

// âœ… ä½¿ç”¨ç³»ç»Ÿé—´è·
.padding(.vertical, 16)

// âŒ é¿å…é­”æ³•æ•°å­—
.padding(.vertical, 23)

// âœ… ä½¿ç”¨ç¯å¢ƒå€¼
@Environment(\.colorScheme) var colorScheme

// âœ… é™åˆ¶åŠ¨æ€å­—ä½“èŒƒå›´
.dynamicTypeSize(.xSmall ... .accessibility3)
```

### 8.4 æµ‹è¯•æ¸…å•

#### åŠŸèƒ½æµ‹è¯•

- [ ] å¿«é€Ÿè®°å½•åŠŸèƒ½
- [ ] è¡¥å……è¯¦æƒ…åŠŸèƒ½
- [ ] ç¼–è¾‘è®°å½•åŠŸèƒ½
- [ ] åˆ é™¤è®°å½•åŠŸèƒ½
- [ ] AIæ¨èåŠŸèƒ½
- [ ] æ•°æ®åˆ†æåŠŸèƒ½
- [ ] PDFå¯¼å‡ºåŠŸèƒ½
- [ ] è¯ç®±ç®¡ç†åŠŸèƒ½
- [ ] MOHè­¦å‘ŠåŠŸèƒ½

#### UIæµ‹è¯•

- [ ] æ‰€æœ‰é¡µé¢åœ¨iPhone SEä¸Šæ­£å¸¸æ˜¾ç¤º
- [ ] æ‰€æœ‰é¡µé¢åœ¨iPhone Pro Maxä¸Šæ­£å¸¸æ˜¾ç¤º
- [ ] æ‰€æœ‰é¡µé¢åœ¨iPadä¸Šæ­£å¸¸æ˜¾ç¤º
- [ ] æ¨ªå±æ¨¡å¼ä¸‹å¸ƒå±€æ­£å¸¸
- [ ] æ·±è‰²æ¨¡å¼ä¸‹æ˜¾ç¤ºæ­£å¸¸
- [ ] é«˜å¯¹æ¯”åº¦æ¨¡å¼ä¸‹æ˜¾ç¤ºæ­£å¸¸

#### å¯è®¿é—®æ€§æµ‹è¯•

- [ ] VoiceOverå¯ä»¥å¯¼èˆªæ‰€æœ‰å…ƒç´ 
- [ ] æ‰€æœ‰æŒ‰é’®è§¦æ‘¸ç›®æ ‡ â‰¥ 44pt
- [ ] åŠ¨æ€å­—ä½“ä»xSmallåˆ°accessibility3éƒ½æ­£å¸¸
- [ ] é¢œè‰²å¯¹æ¯”åº¦ç¬¦åˆWCAG AAæ ‡å‡†
- [ ] å‡å¼±åŠ¨ç”»è®¾ç½®ç”Ÿæ•ˆ

#### æ€§èƒ½æµ‹è¯•

- [ ] å¯åŠ¨æ—¶é—´ < 1ç§’
- [ ] è®°å½•ä¿å­˜ < 0.5ç§’
- [ ] é¡µé¢åˆ‡æ¢ < 0.3ç§’
- [ ] åˆ†æé¡µåŠ è½½ < 2ç§’
- [ ] æ»šåŠ¨æµç•…(60fps)

### 8.5 è®¾è®¡äº¤ä»˜ç‰©

#### äº¤ä»˜æ¸…å•

1. **æœ¬è®¾è®¡æ–‡æ¡£** (æœ¬æ–‡ä»¶)
2. **FigmaåŸå‹** (å¦‚æœéœ€è¦)
3. **å›¾æ ‡èµ„æº**
   - æ‰€æœ‰SF Symbolsåˆ—è¡¨
   - ä½¿ç”¨åœºæ™¯è¯´æ˜

4. **ç»„ä»¶åº“ä»£ç **
   - Colors.swift
   - Typography.swift
   - Spacing.swift
   - æ‰€æœ‰ç»„ä»¶ä»£ç 

5. **ç¤ºä¾‹ä»£ç **
   - æ ¸å¿ƒé¡µé¢å®Œæ•´ä»£ç 
   - AIæ¨èå¼•æ“ä»£ç 
   - å¯è®¿é—®æ€§ç¤ºä¾‹ä»£ç 

6. **æµ‹è¯•ç”¨ä¾‹**
   - åŠŸèƒ½æµ‹è¯•ç”¨ä¾‹
   - UIæµ‹è¯•ç”¨ä¾‹
   - å¯è®¿é—®æ€§æµ‹è¯•ç”¨ä¾‹

---

## é™„å½•

### A. è®¾è®¡åŸåˆ™æ€»ç»“

1. **Less is More** - å°‘å³æ˜¯å¤š
2. **Function Over Form** - åŠŸèƒ½ä¼˜å…ˆäºå½¢å¼
3. **Speed is King** - é€Ÿåº¦ä¸ºç‹
4. **Data Drives Insight** - æ•°æ®é©±åŠ¨æ´å¯Ÿ
5. **Accessible by Default** - é»˜è®¤å¯è®¿é—®

### B. å…³é”®æ•°æ®

| æŒ‡æ ‡ | ç›®æ ‡ | æµ‹é‡æ–¹æ³• |
|------|------|---------|
| å¿«é€Ÿè®°å½•æ—¶é—´ | < 3ç§’ | ä»ç‚¹å‡»åˆ°ä¿å­˜æˆåŠŸ |
| é¦–é¡µç•™ç™½æ¯”ä¾‹ | â‰¥ 70% | è§†è§‰å…ƒç´ é¢ç§¯/æ€»é¢ç§¯ |
| AIæ¨èå‡†ç¡®ç‡ | > 70% | ç”¨æˆ·é‡‡çº³ç‡ |
| è§¦æ‘¸ç›®æ ‡åˆæ ¼ç‡ | 100% | æ‰€æœ‰æŒ‰é’® â‰¥ 44pt |
| VoiceOverè¦†ç›–ç‡ | 100% | å¯äº¤äº’å…ƒç´  |
| é¡µé¢åˆ‡æ¢æ—¶é—´ | < 0.3ç§’ | å®æµ‹ |
| ç”¨æˆ·æ»¡æ„åº¦ | > 4.5/5 | é—®å·è°ƒæŸ¥ |

### C. å‚è€ƒèµ„æº

- **Apple HIG**: https://developer.apple.com/design/human-interface-guidelines/
- **WCAG 2.1**: https://www.w3.org/WAI/WCAG21/quickref/
- **Material Design**: https://m3.material.io/
- **SF Symbols**: https://developer.apple.com/sf-symbols/

### D. ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´å†…å®¹ |
|------|------|---------|
| 2.0 | 2026-02-03 | åˆå§‹ç‰ˆæœ¬ - æç®€ä¸“ä¸šè®¾è®¡æ–¹æ¡ˆ |

---

**æ–‡æ¡£ç»“æŸ**

æœ¬è®¾è®¡æ–¹æ¡ˆä½“ç°äº†"åŒ»ç–—æç®€ä¸»ä¹‰"çš„æ ¸å¿ƒç†å¿µ,åœ¨ä¿æŒæ‰€æœ‰å¿…éœ€åŠŸèƒ½çš„å‰æä¸‹,å°†ç”¨æˆ·ç•Œé¢ç®€åŒ–åˆ°æè‡´,è®©åå¤´ç—›æ‚£è€…åœ¨ç—›è‹¦æ—¶åˆ»èƒ½å¤Ÿå¿«é€Ÿè®°å½•,åœ¨å¥åº·æ—¶åˆ»èƒ½å¤Ÿè·å¾—æœ‰ä»·å€¼çš„æ´å¯Ÿã€‚

**æ ¸å¿ƒä¼˜åŠ¿**:
- ğŸš€ 3ç§’å¿«é€Ÿè®°å½•
- ğŸ¯ AIæ™ºèƒ½æ¨è
- ğŸ“Š æ•°æ®æ´å¯Ÿç”Ÿæˆ
- â™¿ï¸ å®Œæ•´å¯è®¿é—®æ€§
- ğŸ”’ éšç§é€æ˜åŒ–
- ğŸ“± iOSåŸç”Ÿä½“éªŒ

**ä¸‹ä¸€æ­¥**: æŒ‰ç…§å®æ–½æŒ‡å—åˆ†4ä¸ªé˜¶æ®µé€æ­¥å®æ–½,é¢„è®¡4å‘¨å®Œæˆå…¨éƒ¨å¼€å‘å’Œæµ‹è¯•ã€‚
