# iPad 设备配对问题解决方案

## 问题描述
在 Xcode 中运行项目时，提示"设备未配对（unpaired）"错误。

## 解决步骤

### 方法 1：标准配对流程

1. **打开 Devices 窗口**
   - 快捷键：`Shift + Command + 2`
   - 或菜单：`Window` → `Devices and Simulators`

2. **连接设备**
   - 使用 USB 数据线连接 iPad 到 Mac
   - 确保使用官方或 MFi 认证的数据线

3. **信任操作**
   - iPad 会弹出"信任此电脑？"提示
   - 点击"信任"
   - 输入设备密码

4. **Xcode 配对**
   - 在 Devices 窗口选择您的 iPad
   - 点击"Pair"按钮
   - 等待配对过程完成

### 方法 2：重新配对

如果设备显示但无法配对：

```bash
# 1. 在 Xcode 中：Window → Devices and Simulators
# 2. 右键点击设备
# 3. 选择 "Unpair Device"
# 4. 断开 USB 连接
# 5. 重启 Xcode
# 6. 重新连接设备并按方法 1 配对
```

### 方法 3：清除配对缓存（高级）

如果仍然无法解决：

```bash
# 1. 完全退出 Xcode

# 2. 清除设备配对缓存
rm -rf ~/Library/Developer/Xcode/iOS\ Device\ Logs/*
rm -rf ~/Library/Developer/Xcode/iOS\ DeviceSupport/*

# 3. 在 iPad 上：设置 → 通用 → 传输或还原 iPad → 重置 → 重置位置与隐私

# 4. 断开 iPad 连接

# 5. 重启 Mac（推荐）

# 6. 重新启动 Xcode 并按方法 1 配对
```

### 方法 4：检查开发者模式（iOS 16+）

对于 iOS 16 及更高版本：

1. 在 iPad 上打开：
   - `设置` → `隐私与安全性` → `开发者模式`

2. 启用开发者模式

3. 重启 iPad

4. 重启后确认启用开发者模式

### 方法 5：无线调试配置

如果希望使用无线调试：

1. **首次配置必须使用 USB 连接**

2. 在 Devices 窗口：
   - 选择您的设备
   - 勾选"Connect via network"

3. 等待网络图标出现

4. 之后可以拔掉 USB 线，通过 Wi-Fi 调试

## 常见问题

### Q1: 设备一直显示"Preparing..."
**A**: 等待 Xcode 准备设备支持文件（首次连接新版本 iOS 时需要）。如果超过 10 分钟：
- 检查网络连接（Xcode 需要下载支持文件）
- 重启 Xcode
- 重新连接设备

### Q2: 提示"Failed to prepare device for development"
**A**: 
- 确保 iPad 已解锁
- 确保 iPad 版本与 Xcode 兼容
- 更新 Xcode 到最新版本

### Q3: Mac 上多次点击"信任"但 iPad 无响应
**A**:
- 确保 iPad 屏幕已解锁
- 检查数据线是否支持数据传输（不是只充电的线）
- 更换 USB 端口
- 更换数据线

### Q4: 无线调试突然断开
**A**:
- 确保 iPad 和 Mac 在同一 Wi-Fi 网络
- 关闭 VPN（可能影响本地网络发现）
- 重新勾选"Connect via network"

## 版本兼容性

- **Xcode 26.0.1** 支持 iOS 17.0 - 18.0+
- **iPad iOS 17.7.10** ✅ 完全兼容
- **App 最低要求 iOS 17.6** ✅ 满足条件

## 检查清单

配对前检查：
- [ ] iPad 已解锁
- [ ] 使用支持数据传输的 USB 线
- [ ] Mac 和 iPad 均已更新到稳定版本
- [ ] iPad 已启用开发者模式（iOS 16+）
- [ ] Xcode 已信任开发者账户
- [ ] 防火墙未阻止 Xcode 网络访问

## 参考资料

- [Apple Developer - Running Your App on a Device](https://developer.apple.com/documentation/xcode/running-your-app-in-simulator-or-on-a-device)
- [Xcode Device Management](https://developer.apple.com/documentation/xcode/managing-devices)
